
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <meta
            name="description"
            content="XFT Developer Documentation"
        >
    <title>XFT Documentation</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-b9f31836.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-40d46d00.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;python&quot;,&quot;typescript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-c83b49d0.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="typescript">typescript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#clob-api" class="toc-h1 toc-link" data-title="CLOB API">CLOB API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction-2" class="toc-h2 toc-link" data-title="Introduction">Introduction</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#system" class="toc-h3 toc-link" data-title="System">System</a>
                          </li>
                          <li>
                            <a href="#api" class="toc-h3 toc-link" data-title="API">API</a>
                          </li>
                          <li>
                            <a href="#security" class="toc-h3 toc-link" data-title="Security">Security</a>
                          </li>
                          <li>
                            <a href="#fees" class="toc-h3 toc-link" data-title="Fees">Fees</a>
                          </li>
                          <li>
                            <a href="#additional-resources" class="toc-h3 toc-link" data-title="Additional Resources">Additional Resources</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#deployments" class="toc-h2 toc-link" data-title="Deployments">Deployments</a>
                  </li>
                  <li>
                    <a href="#status" class="toc-h2 toc-link" data-title="Status">Status</a>
                  </li>
                  <li>
                    <a href="#clients" class="toc-h2 toc-link" data-title="Clients">Clients</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#order-utils" class="toc-h3 toc-link" data-title="Order Utils">Order Utils</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#endpoints" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest" class="toc-h3 toc-link" data-title="REST">REST</a>
                          </li>
                          <li>
                            <a href="#websocket" class="toc-h3 toc-link" data-title="Websocket">Websocket</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#l1-private-key-authentication" class="toc-h3 toc-link" data-title="L1: Private Key Authentication">L1: Private Key Authentication</a>
                          </li>
                          <li>
                            <a href="#l2-api-key-authentication" class="toc-h3 toc-link" data-title="L2: API Key Authentication">L2: API Key Authentication</a>
                          </li>
                          <li>
                            <a href="#create-api-key" class="toc-h3 toc-link" data-title="Create API Key">Create API Key</a>
                          </li>
                          <li>
                            <a href="#derive-api-key" class="toc-h3 toc-link" data-title="Derive API Key">Derive API Key</a>
                          </li>
                          <li>
                            <a href="#get-api-keys" class="toc-h3 toc-link" data-title="Get API Keys">Get API Keys</a>
                          </li>
                          <li>
                            <a href="#delete-api-key" class="toc-h3 toc-link" data-title="Delete API Key">Delete API Key</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#orders" class="toc-h2 toc-link" data-title="Orders">Orders</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#overview-2" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                          </li>
                          <li>
                            <a href="#allowances" class="toc-h3 toc-link" data-title="Allowances">Allowances</a>
                          </li>
                          <li>
                            <a href="#signature-types" class="toc-h3 toc-link" data-title="Signature Types">Signature Types</a>
                          </li>
                          <li>
                            <a href="#validity-checks" class="toc-h3 toc-link" data-title="Validity Checks">Validity Checks</a>
                          </li>
                          <li>
                            <a href="#create-and-place-an-order" class="toc-h3 toc-link" data-title="Create and Place an Order">Create and Place an Order</a>
                          </li>
                          <li>
                            <a href="#get-order" class="toc-h3 toc-link" data-title="Get Order">Get Order</a>
                          </li>
                          <li>
                            <a href="#check-if-an-order-is-scoring" class="toc-h3 toc-link" data-title="Check if an order is scoring">Check if an order is scoring</a>
                          </li>
                          <li>
                            <a href="#check-if-some-orders-are-scoring" class="toc-h3 toc-link" data-title="Check if some orders are scoring">Check if some orders are scoring</a>
                          </li>
                          <li>
                            <a href="#get-active-orders" class="toc-h3 toc-link" data-title="Get Active Orders">Get Active Orders</a>
                          </li>
                          <li>
                            <a href="#cancel-an-order" class="toc-h3 toc-link" data-title="Cancel an Order">Cancel an Order</a>
                          </li>
                          <li>
                            <a href="#cancel-orders" class="toc-h3 toc-link" data-title="Cancel orders">Cancel orders</a>
                          </li>
                          <li>
                            <a href="#cancel-all-orders" class="toc-h3 toc-link" data-title="Cancel All Orders">Cancel All Orders</a>
                          </li>
                          <li>
                            <a href="#cancel-orders-from-market" class="toc-h3 toc-link" data-title="Cancel orders from market">Cancel orders from market</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#trades" class="toc-h2 toc-link" data-title="Trades">Trades</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#overview-3" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                          </li>
                          <li>
                            <a href="#statuses" class="toc-h3 toc-link" data-title="Statuses">Statuses</a>
                          </li>
                          <li>
                            <a href="#get-trades" class="toc-h3 toc-link" data-title="Get Trades">Get Trades</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#markets" class="toc-h2 toc-link" data-title="Markets">Markets</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#get-markets" class="toc-h3 toc-link" data-title="Get Markets">Get Markets</a>
                          </li>
                          <li>
                            <a href="#get-sampling-markets" class="toc-h3 toc-link" data-title="Get Sampling Markets">Get Sampling Markets</a>
                          </li>
                          <li>
                            <a href="#get-simplified-markets" class="toc-h3 toc-link" data-title="Get Simplified Markets">Get Simplified Markets</a>
                          </li>
                          <li>
                            <a href="#get-sampling-simplified-markets" class="toc-h3 toc-link" data-title="Get Sampling Simplified Markets">Get Sampling Simplified Markets</a>
                          </li>
                          <li>
                            <a href="#get-market" class="toc-h3 toc-link" data-title="Get Market">Get Market</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#prices-and-books" class="toc-h2 toc-link" data-title="Prices and Books">Prices and Books</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#get-book" class="toc-h3 toc-link" data-title="Get Book">Get Book</a>
                          </li>
                          <li>
                            <a href="#get-books" class="toc-h3 toc-link" data-title="Get Books">Get Books</a>
                          </li>
                          <li>
                            <a href="#get-price" class="toc-h3 toc-link" data-title="Get Price">Get Price</a>
                          </li>
                          <li>
                            <a href="#get-prices" class="toc-h3 toc-link" data-title="Get Prices">Get Prices</a>
                          </li>
                          <li>
                            <a href="#get-midpoint" class="toc-h3 toc-link" data-title="Get Midpoint">Get Midpoint</a>
                          </li>
                          <li>
                            <a href="#get-midpoints" class="toc-h3 toc-link" data-title="Get Midpoints">Get Midpoints</a>
                          </li>
                          <li>
                            <a href="#get-spread" class="toc-h3 toc-link" data-title="Get spread">Get spread</a>
                          </li>
                          <li>
                            <a href="#get-spreads" class="toc-h3 toc-link" data-title="Get spreads">Get spreads</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#websocket-api" class="toc-h2 toc-link" data-title="Websocket API">Websocket API</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#overview-4" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                          </li>
                          <li>
                            <a href="#subscription" class="toc-h3 toc-link" data-title="Subscription">Subscription</a>
                          </li>
                          <li>
                            <a href="#wss-authentication" class="toc-h3 toc-link" data-title="WSS Authentication">WSS Authentication</a>
                          </li>
                          <li>
                            <a href="#user-channel" class="toc-h3 toc-link" data-title="User Channel">User Channel</a>
                          </li>
                          <li>
                            <a href="#market-channel" class="toc-h3 toc-link" data-title="Market Channel">Market Channel</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#timeseries-data" class="toc-h2 toc-link" data-title="Timeseries Data">Timeseries Data</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-28" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#query-parameters" class="toc-h3 toc-link" data-title="Query Parameters">Query Parameters</a>
                          </li>
                          <li>
                            <a href="#example-response-format" class="toc-h3 toc-link" data-title="Example Response Format">Example Response Format</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#gamma-markets-api" class="toc-h1 toc-link" data-title="Gamma Markets API">Gamma Markets API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview-5" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#endpoint" class="toc-h2 toc-link" data-title="Endpoint">Endpoint</a>
                  </li>
                  <li>
                    <a href="#market-organization" class="toc-h2 toc-link" data-title="Market Organization">Market Organization</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#detail" class="toc-h3 toc-link" data-title="Detail">Detail</a>
                          </li>
                          <li>
                            <a href="#example" class="toc-h3 toc-link" data-title="Example">Example</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#markets-2" class="toc-h2 toc-link" data-title="Markets">Markets</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-29" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#query-parameters-2" class="toc-h3 toc-link" data-title="Query Parameters">Query Parameters</a>
                          </li>
                          <li>
                            <a href="#example-queries" class="toc-h3 toc-link" data-title="Example Queries">Example Queries</a>
                          </li>
                          <li>
                            <a href="#example-response-format-2" class="toc-h3 toc-link" data-title="Example Response Format">Example Response Format</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#single-market" class="toc-h2 toc-link" data-title="Single Market">Single Market</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-30" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#example-query" class="toc-h3 toc-link" data-title="Example Query">Example Query</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#events" class="toc-h2 toc-link" data-title="Events">Events</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-31" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#query-parameters-3" class="toc-h3 toc-link" data-title="Query Parameters">Query Parameters</a>
                          </li>
                          <li>
                            <a href="#example-queries-2" class="toc-h3 toc-link" data-title="Example Queries">Example Queries</a>
                          </li>
                          <li>
                            <a href="#example-response-format-3" class="toc-h3 toc-link" data-title="Example Response Format">Example Response Format</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#single-event" class="toc-h2 toc-link" data-title="Single Event">Single Event</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-32" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#example-query-2" class="toc-h3 toc-link" data-title="Example Query">Example Query</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subgraph" class="toc-h1 toc-link" data-title="Subgraph">Subgraph</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview-6" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#source" class="toc-h2 toc-link" data-title="Source">Source</a>
                  </li>
                  <li>
                    <a href="#hosted-version" class="toc-h2 toc-link" data-title="Hosted Version">Hosted Version</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#resolution" class="toc-h1 toc-link" data-title="Resolution">Resolution</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#uma" class="toc-h2 toc-link" data-title="UMA">UMA</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#overview-7" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                          </li>
                          <li>
                            <a href="#resolution-process" class="toc-h3 toc-link" data-title="Resolution Process">Resolution Process</a>
                          </li>
                          <li>
                            <a href="#deployed-addresses" class="toc-h3 toc-link" data-title="Deployed Addresses">Deployed Addresses</a>
                          </li>
                          <li>
                            <a href="#additional-resources-2" class="toc-h3 toc-link" data-title="Additional Resources">Additional Resources</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#pyth" class="toc-h2 toc-link" data-title="Pyth">Pyth</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rewards" class="toc-h1 toc-link" data-title="Rewards">Rewards</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#liquidity-rewards-program" class="toc-h2 toc-link" data-title="Liquidity Rewards Program">Liquidity Rewards Program</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#overview-8" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                          </li>
                          <li>
                            <a href="#methodology" class="toc-h3 toc-link" data-title="Methodology">Methodology</a>
                          </li>
                          <li>
                            <a href="#market-configurations" class="toc-h3 toc-link" data-title="Market Configurations">Market Configurations</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#leaderboard-competitions" class="toc-h2 toc-link" data-title="Leaderboard Competitions">Leaderboard Competitions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#conditional-tokens-framework" class="toc-h1 toc-link" data-title="Conditional Tokens Framework">Conditional Tokens Framework</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview-9" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#split" class="toc-h2 toc-link" data-title="Split">Split</a>
                  </li>
                  <li>
                    <a href="#merge" class="toc-h2 toc-link" data-title="Merge">Merge</a>
                  </li>
                  <li>
                    <a href="#redeem" class="toc-h2 toc-link" data-title="Redeem">Redeem</a>
                  </li>
                  <li>
                    <a href="#deployment" class="toc-h2 toc-link" data-title="Deployment">Deployment</a>
                  </li>
                  <li>
                    <a href="#resources" class="toc-h2 toc-link" data-title="Resources">Resources</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fpmms" class="toc-h1 toc-link" data-title="FPMMs">FPMMs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview-10" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#add-liquidity" class="toc-h2 toc-link" data-title="Add Liquidity">Add Liquidity</a>
                  </li>
                  <li>
                    <a href="#remove-liquidity" class="toc-h2 toc-link" data-title="Remove Liquidity">Remove Liquidity</a>
                  </li>
                  <li>
                    <a href="#buy" class="toc-h2 toc-link" data-title="Buy">Buy</a>
                  </li>
                  <li>
                    <a href="#sell" class="toc-h2 toc-link" data-title="Sell">Sell</a>
                  </li>
                  <li>
                    <a href="#deployments-2" class="toc-h2 toc-link" data-title="Deployments">Deployments</a>
                  </li>
                  <li>
                    <a href="#resources-2" class="toc-h2 toc-link" data-title="Resources">Resources</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#proxy-wallets" class="toc-h1 toc-link" data-title="Proxy Wallets">Proxy Wallets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview-11" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#deployments-3" class="toc-h2 toc-link" data-title="Deployments">Deployments</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#bug-bounty" class="toc-h1 toc-link" data-title="Bug Bounty">Bug Bounty</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://XFT.com/tos'>Terms of Service</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to XFT&#39;s docs! Here developers can find all the information they need for interacting with XFT. This includes documentation on market discovery, resolution, trading etc. Whether you are an academic researcher a market maker or an indy developer, this documentation should provide you what you need to get started. All the code you find linked here and on our GitHub is open source and free to use. If you have any questions please <a href="https://discord.gg/XFT">join our discord</a> and direct your questions to the #devs channel.</p>
<h1 id='clob-api'>CLOB API</h1><h2 id='introduction-2'>Introduction</h2>
<p>Welcome to the XFT Order Book API! In this documentation you will find overviews, explanations, examples and annotations that aim to make interacting with the order book a breeze. In this section we will provide a general overview of the XFT Order Book and the purpose of the API before diving deep into the API and clients in following sections.</p>
<h3 id='system'>System</h3>
<p>XFT&#39;s Order Book, also referred to as the &quot;CLOB&quot; (Central Limit Order Book) or &quot;BLOB&quot; (Binary Limit Order Book), is hybrid-decentralized wherein there is an operator that provides off-chain matching/ordering services while settlement/execution happens on-chain, non-custodially according to instructions provided by users in the form of signed order messages. This decentralized exchange model provides users with a powerful, non-custodial exchange experience.</p>

<p>Underlying the exchange system is a custom Exchange contract that facilitates atomic swaps (settlement) between binary Outcome Tokens (both CTF ERC1155 assets and ERC20 PToken assets) and a collateral asset (ERC20) according to signed limit orders. The Exchange contract is purpose built for binary markets (instruments that allow collateral to be split into positions and conversely positions to be merged into collateral with the two positions ultimately being settled to a price equal to 1). This allows &quot;unification&quot; of order books such that orders for a position and its complement can be matched. Explicitly, the Exchange allows for matching operations that include a mint/merge operation which allows orders for complementary outcome tokens to be crossed.</p>

<p>Orders are represented as signed typed structured data (EIP712). When orders are matched, one side is considered the maker and the other side is considered the taker. The relationship is always either one to one or many to one (maker to taker) and any price improvement is captured by the taker. The Operator is responsible for matching, ordering, and submitting matched trades to the underlying blockchain network for execution. As such, order placement and canellation can happen immediately off-chain while only the settlement action must occur on-chain.</p>
<h3 id='api'>API</h3>
<p>The XFT Order Book API is a set of endpoints that allow market makers, traders, and other XFT users to programmatically create and manage orders for markets via access to the API provided by the operator.</p>

<p>Orders for any amount can be created and listed, or fetched and read from the order book for a given market. The API also provides data on all available markets, market prices, and order history through REST and WSS endpoints.</p>
<h3 id='security'>Security</h3>
<p>XFT&#39;s Exchange contract has been audited by Chainsecurity you can find the audit report <a href="https://github.com/XFT/ctf-exchange/blob/main/audit/ChainSecurity_XFT_Exchange_audit.pdf">here</a>.</p>

<p>The operator has no special privileges outside of ordering, this means that the only actions you must trust them with is enforcing correct ordering, not censoring and removing cancellations (orders can also be cancelled on-chain if operator is not trusted). If the operator is not doing any of these activities fairly a user can simply stop interacting with the operator. The operator is never able to set prices for users, or execute any trade on the user&#39;s behalf outside of the signed limit orders the user creates.</p>
<h3 id='fees'>Fees</h3><h4 id='schedule'>Schedule</h4>
<p><em>Subject to change</em></p>

<table><thead>
<tr>
<th style="text-align: center">Volume Level</th>
<th style="text-align: center">Maker Fee Base Rate (bps)</th>
<th style="text-align: center">Taker Fee Base Rate (bps)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">&gt;0 USDC</td>
<td style="text-align: center">0</td>
<td style="text-align: center">0</td>
</tr>
</tbody></table>
<h4 id='overview'>Overview</h4>
<p>Fees are levied in the output asset (proceeds). Fees for binary options with a complementary relationship (ie <strong><code>A</code></strong> + <strong><code>A&#39;</code></strong> = <strong><code>C</code></strong>) must be symmetric to preserve market integrity. Symmetric means that someone selling 100 shares of <code>A</code> @ $0.99 should pay the same fee value as someone buying 100 <code>A&#39;</code> @ $0.01. An intuition for this requires understanding that minting/merging a complementary token set for collateral can happen at any time. Fees are thus implemented in the following manner.</p>

<p>If buying (ie receiving <strong><code>A</code></strong> or <strong><code>A&#39;</code></strong>), the fee is levied on the proceed tokens. If selling (ie receiving <strong><code>C</code></strong>), the fee is levied on the proceed collateral. The base fee rate (<code>baseFeeRate</code>) is signed into the order struct. The base fee rate corresponds to % the fee rate paid by traders when the price of the two tokens is equal (ie $0.50 and $0.50). Moving away from a centered price, the following formulas are used to calculate the fees making sure to maintain symmetry.</p>

<p><strong>Case 1:</strong> If selling outcome tokens (base) for collateral (quote):</p>

<p>$$
feeQuote =  baseRate * \min(price, 1-price) * size
$$</p>

<p><strong>Case 2:</strong> If buying outcome tokens (base) with collateral (quote):</p>

<p>$$
feeBase =  baseRate * \min(price, 1-price) * \frac{size}{price}
$$</p>
<h3 id='additional-resources'>Additional Resources</h3>
<ul>
<li><a href="https://github.com/XFT/ctf-exchange/tree/main/src">Exchange contract source code</a></li>
<li><a href="https://github.com/XFT/ctf-exchange/blob/main/docs/Overview.md">Exchange contract documentation</a></li>
</ul>
<h2 id='deployments'>Deployments</h2>
<p>The Exchange contract is deployed at the following addresses:</p>

<table><thead>
<tr>
<th style="text-align: center">Network</th>
<th style="text-align: center">Address</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><strong>Mumbai:</strong></td>
<td style="text-align: center"><a href="https://mumbai.polygonscan.com/address/0x4bfb41d5b3570defd03c39a9a4d8de6bd8b8982e"><code>0x4bFb41d5B3570DeFd03C39a9A4D8dE6Bd8B8982E</code></a></td>
</tr>
<tr>
<td style="text-align: center"><strong>Polygon:</strong></td>
<td style="text-align: center"><a href="https://polygonscan.com/address/0x4bfb41d5b3570defd03c39a9a4d8de6bd8b8982e"><code>0x4bFb41d5B3570DeFd03C39a9A4D8dE6Bd8B8982E</code></a></td>
</tr>
</tbody></table>
<h2 id='status'>Status</h2>
<p><a href="https://status-clob.XFT.com/">https://status-clob.XFT.com/</a></p>
<h2 id='clients'>Clients</h2>
<blockquote>
<p>Installation</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="nx">npm</span> <span class="nx">i</span> <span class="o">-</span><span class="nx">s</span> <span class="p">@</span><span class="nd">XFT</span><span class="sr">/clob-clien</span><span class="err">t
</span>
<span class="nx">yarn</span> <span class="nx">add</span> <span class="p">@</span><span class="nd">XFT</span><span class="sr">/clob-clien</span><span class="err">t
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">pip</span> <span class="n">install</span> <span class="n">py</span><span class="o">-</span><span class="n">clob</span><span class="o">-</span><span class="n">client</span>
</code></pre></div>
<p>XFT has implemented reference clients that allow programmatic use of the API below:</p>

<ul>
<li><a href="https://github.com/XFT/clob-client">clob-client</a> (Typescript)</li>
<li><a href="https://github.com/XFT/py-clob-client">py-clob-client</a> (Python)</li>
</ul>

<blockquote>
<p>Initialization</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">py_clob_client.client</span> <span class="kn">import</span> <span class="n">ClobClient</span>

<span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s">""</span>
<span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s">""</span>
<span class="n">chain_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">137</span>

<span class="c1">### Initialization of a client that trades directly from an EOA
</span><span class="n">client</span> <span class="o">=</span> <span class="n">ClobClient</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">chain_id</span><span class="o">=</span><span class="n">chain_id</span><span class="p">)</span>

<span class="c1">### Initialization of a client using a XFT Proxy associated with an Email/Magic account
</span><span class="n">client</span> <span class="o">=</span> <span class="n">ClobClient</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">chain_id</span><span class="o">=</span><span class="n">chain_id</span><span class="p">,</span> <span class="n">signature_type</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">funder</span><span class="o">=</span><span class="n">XFT_PROXY_ADDRESS</span><span class="p">)</span>

<span class="c1">### Initialization of a client using a XFT Proxy associated with a Browser Wallet(Metamask, Coinbase Wallet, etc)
</span><span class="n">client</span> <span class="o">=</span> <span class="n">ClobClient</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">chain_id</span><span class="o">=</span><span class="n">chain_id</span><span class="p">,</span> <span class="n">signature_type</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">funder</span><span class="o">=</span><span class="n">XFT_PROXY_ADDRESS</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ClobClient</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">XFT/clob-client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">SignatureType</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@XFT/order-utils</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// Initialization of a client that trades directly from an EOA</span>
<span class="kd">const</span> <span class="nx">clobClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ClobClient</span><span class="p">(</span>
  <span class="nx">host</span> <span class="k">as</span> <span class="kr">string</span><span class="p">,</span>
  <span class="p">(</span><span class="k">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getChainId</span><span class="p">())</span> <span class="k">as</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">wallet</span> <span class="k">as</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">Wallet</span> <span class="o">|</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">JsonRpcSigner</span>
<span class="p">);</span>

<span class="c1">// Initialization of a client using a XFT Proxy associated with an Email/Magic account</span>
<span class="kd">const</span> <span class="nx">clobClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ClobClient</span><span class="p">(</span>
  <span class="nx">host</span> <span class="k">as</span> <span class="kr">string</span><span class="p">,</span>
  <span class="p">(</span><span class="k">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getChainId</span><span class="p">())</span> <span class="k">as</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">wallet</span> <span class="k">as</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">Wallet</span> <span class="o">|</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">JsonRpcSigner</span><span class="p">,</span>
  <span class="kc">undefined</span><span class="p">,</span> <span class="c1">// creds</span>
  <span class="nx">SignatureType</span><span class="p">.</span><span class="nx">POLY_PROXY</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">YOUR_XFT_PROXY_ADDRESS</span><span class="dl">"</span>
<span class="p">);</span>

<span class="c1">// Initialization of a client using a XFT Proxy Wallet associated with a Browser Wallet(Metamask, Coinbase Wallet)</span>
<span class="kd">const</span> <span class="nx">clobClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ClobClient</span><span class="p">(</span>
  <span class="nx">host</span> <span class="k">as</span> <span class="kr">string</span><span class="p">,</span>
  <span class="p">(</span><span class="k">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getChainId</span><span class="p">())</span> <span class="k">as</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">wallet</span> <span class="k">as</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">Wallet</span> <span class="o">|</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">JsonRpcSigner</span><span class="p">,</span>
  <span class="kc">undefined</span><span class="p">,</span> <span class="c1">// creds</span>
  <span class="nx">SignatureType</span><span class="p">.</span><span class="nx">POLY_GNOSIS_SAFE</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">YOUR_XFT_PROXY_ADDRESS</span><span class="dl">"</span>
<span class="p">);</span>
</code></pre></div><h3 id='order-utils'>Order Utils</h3>
<p>XFT has implemented utility libraries to programmatically sign and generate orders:</p>

<ul>
<li><a href="https://github.com/XFT/clob-order-utils">clob-order-utils</a> (Typescript)</li>
<li><a href="https://github.com/XFT/python-order-utils">python-order-utils</a> (Python)</li>
<li><a href="https://github.com/XFT/go-order-utils">go-order-utils</a> (Golang)</li>
</ul>
<h2 id='endpoints'>Endpoints</h2><h3 id='rest'>REST</h3>
<p>Used for all CLOB REST endpoints, denoted <code>{clob-endpoint}</code>.</p>

<p><strong><a href="https://clob.XFT.com/">https://clob.XFT.com/</a></strong></p>
<h3 id='websocket'>Websocket</h3>
<p>Used for all CLOB WSS endpoints, denoted <code>{wss-channel}</code>.</p>

<p><strong><a href="wss://ws-subscriptions-clob.XFT.com/ws/">wss://ws-subscriptions-clob.XFT.com/ws/</a></strong></p>
<h2 id='authentication'>Authentication</h2>
<p>There are two levels of authentication to be considered when using XFT&#39;s CLOB. All signing can be handled directly by the client libraries.</p>
<h3 id='l1-private-key-authentication'>L1: Private Key Authentication</h3>
<p>The highest level of authentication is via an account&#39;s Polygon private key. The private key remains in control of a user&#39;s funds and as such all trading is non-custodial. The operator <em>never</em> has control over users&#39; funds.</p>

<p>Private key authentication is required for the following operations:</p>

<ul>
<li>Placing an order (for signing the order)</li>
<li>Creating or revoking API keys</li>
</ul>
<h4 id='l1-header'>L1 Header</h4>
<table><thead>
<tr>
<th style="text-align: center">Header</th>
<th style="text-align: center">Required?</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POLY_ADDRESS</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">Polygon address</td>
</tr>
<tr>
<td style="text-align: center">POLY_SIGNATURE</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">CLOB EIP 712 signature</td>
</tr>
<tr>
<td style="text-align: center">POLY_TIMESTAMP</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">current UNIX timestamp</td>
</tr>
<tr>
<td style="text-align: center">POLY_NONCE</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">Nonce. Default 0</td>
</tr>
</tbody></table>

<p>The POLY_SIGNATURE is generated by signing the following EIP712 struct:</p>
<div class="highlight"><pre class="highlight typescript"><code><span class="kd">const</span> <span class="nx">domain</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ClobAuthDomain</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">chainId</span><span class="p">:</span> <span class="nx">chainId</span><span class="p">,</span> <span class="c1">// Polygon ChainID 137</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">types</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">ClobAuth</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nonce</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uint256</span><span class="dl">"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span> <span class="p">},</span>
  <span class="p">],</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">address</span><span class="p">:</span> <span class="nx">signingAddress</span><span class="p">,</span> <span class="c1">// the Signing address</span>
  <span class="na">timestamp</span><span class="p">:</span> <span class="nx">ts</span><span class="p">,</span> <span class="c1">// The CLOB API server timestamp</span>
  <span class="na">nonce</span><span class="p">:</span> <span class="nx">nonce</span><span class="p">,</span> <span class="c1">// The nonce used</span>
  <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">This message attests that I control the given wallet</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// A static message indicating that the user controls the wallet</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">sig</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">signer</span><span class="p">.</span><span class="nx">_signTypedData</span><span class="p">(</span><span class="nx">domain</span><span class="p">,</span> <span class="nx">types</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
</code></pre></div>
<p>Implementations exist in the <a href="https://github.com/XFT/clob-client/blob/main/src/signing/eip712.ts">Typescript</a> and <a href="https://github.com/XFT/py-clob-client/blob/main/py_clob_client/signing/eip712.py">Python</a> clients</p>
<h3 id='l2-api-key-authentication'>L2: API Key Authentication</h3>
<p>The next level of authentication consists of the API key, secret and passphrase which are used solely to authenticate API requests made to XFT&#39;s CLOB. This includes operations such as posting/canceling orders or retrieving an account&#39;s orders and fills.</p>

<p>When a user on-boards via <code>POST</code> <code>/auth/api-key</code>, the server will use the signature as a seed to deterministically generate credentials. An API credential includes three fields:</p>

<p><strong>key</strong>: UUID identifying the credentials.</p>

<p><strong>secret</strong>: Secret string used to generate HMACs, not sent with requests.</p>

<p><strong>passphrase</strong>: Secret string sent with each request, used to encrypt/decrypt the secret in our DB, and never stored in our DB.</p>

<p>All requests which are not signed by a private key (<code>/auth/api-key</code>) and which are made to private endpoints require an API key signature.</p>
<h4 id='l2-header'>L2 Header</h4>
<table><thead>
<tr>
<th style="text-align: center">Header</th>
<th style="text-align: center">Required?</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POLY_ADDRESS</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">Polygon address</td>
</tr>
<tr>
<td style="text-align: center">POLY_SIGNATURE</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">HMAC signature for request</td>
</tr>
<tr>
<td style="text-align: center">POLY_TIMESTAMP</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">request UNIX timestamp</td>
</tr>
<tr>
<td style="text-align: center">POLY_API_KEY</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">XFT API key</td>
</tr>
<tr>
<td style="text-align: center">POLY_PASSPHRASE</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">XFT API key passphrase</td>
</tr>
</tbody></table>
<h3 id='create-api-key'>Create API Key</h3>
<aside class="notice">
This endpoint requires an L1 Header.
</aside>

<p>Create new API key credentials for a user.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>POST {clob-endpoint}/auth/api-key</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">creds</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">createApiKey</span><span class="p">();</span> <span class="c1">// nonce defaults to 0</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">creds</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">create_api_key</span><span class="p">()</span>
</code></pre></div>
<blockquote>
<p>The above request returns a JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxx"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx="</span><span class="p">,</span><span class="w">
  </span><span class="nl">"passphrase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='derive-api-key'>Derive API Key</h3>
<aside class="notice">
This endpoint required a L1 Header.
</aside>

<p>Derive an <em>existing</em> API key for an address and nonce.</p>
<h4 id='http-request-2'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/auth/derive-api-key</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">creds</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">deriveApiKey</span><span class="p">();</span> <span class="c1">// nonce defaults to 0</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">creds</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">derive_api_key</span><span class="p">()</span> <span class="c1">## nonce defaults to 0
</span></code></pre></div>
<blockquote>
<p>The above request returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxx-xxxxx-xxxxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx="</span><span class="p">,</span><span class="w">
  </span><span class="nl">"passphrase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-api-keys'>Get API Keys</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Get all api keys associated with a Polygon address.</p>
<h4 id='http-request-3'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/auth/api-keys</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">apiKeys</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getApiKeys</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">api_keys</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_api_keys</span><span class="p">()</span>
</code></pre></div>
<blockquote>
<p>The above command returns a JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"apiKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"xxxxxxxxx-xxxxx-xxxxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='delete-api-key'>Delete API Key</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Deletes API used to authenticate the request.</p>
<h4 id='http-request-4'>HTTP Request</h4>
<p><code>DELETE {clob-endpoint}/auth/api-key</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">deleteApiKey</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">clob_client</span><span class="p">.</span><span class="n">delete_api_key</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>If successful, the above command returns an <code>&quot;OK&quot;</code> string value:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="s2">"OK"</span><span class="w">
</span></code></pre></div><h2 id='orders'>Orders</h2><h3 id='overview-2'>Overview</h3>
<p>All orders are expressed as limit orders (can be marketable). The underlying order primitive must be in the form expected and executable by the on-chain binary limit order protocol contract. Preparing such an order is quite involved (structuring, hashing, signing), thus XFT suggests using the open source typescript, python and golang libraries.</p>
<h3 id='allowances'>Allowances</h3>
<p>To place an order, allowances must be set by the funder address for the specified <code>maker</code> asset for the Exchange contract. When buying, this means the funder must have set a USDC allowance greater than or equal to the spending amount. When selling, the funder must have set an allowance for the conditional token tht is greater than or equal to the selling amount. This allows the Exchange contract to execute settlement according to the signed order instructions created by a user and matched by the operator.</p>
<h3 id='signature-types'>Signature Types</h3>
<p>XFT&#39;s CLOB supports 3 signature types. Orders must identify what signature type they use. The available typescript and python clients abstract the complexity of signing and preparing orders with the following signature types by allowing a funder address and signer type to be specified on initialization. The supported signature types are:</p>

<table><thead>
<tr>
<th style="text-align: center">Type</th>
<th style="text-align: center">ID</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">EOA</td>
<td style="text-align: center">0</td>
<td style="text-align: left">EIP712 signature signed by an EOA</td>
</tr>
<tr>
<td style="text-align: center">POLY_PROXY</td>
<td style="text-align: center">1</td>
<td style="text-align: left">EIP712 signatures signed by a signer associated with funding XFT proxy wallet</td>
</tr>
<tr>
<td style="text-align: center">POLY_GNOSIS_SAFE</td>
<td style="text-align: center">2</td>
<td style="text-align: left">EIP712 signatures signed by a signer associated with funding XFT gnosis safe wallet</td>
</tr>
</tbody></table>
<h3 id='validity-checks'>Validity Checks</h3>
<p>Orders are continually monitored to make sure they remain valid. Specifically, this includes continually tracking underlying balances, allowances and on-chain order cancellations. Any maker that is caught intentionally abusing these checks (which are essentially real time) will be blacklisted.</p>

<p>Additionally, there are rails on order placement in a market. Specifically, you can only place orders that sum to less than or equal to your available balance for each market. For example if you have 500 USDC in your funding wallet, you can place one order to buy 1000 YES in marketA @ $.50, then any additional buy orders to that market will be rejected since your entire balance is reserved for the first (and only) buy order. More explicitly the max size you can place for an order is:</p>

<p>$$
maxOrderSize =  underlyingAssetBalance - \sum(orderSize - orderFillAmount)
$$</p>
<h3 id='create-and-place-an-order'>Create and Place an Order</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Create and place an order using the XFT CLOB API clients. All orders are represented as &quot;limit&quot; orders, but &quot;market&quot; orders are enabled by allowing marketable limit orders, which are executed on input at the best price available. Thus to place a market order, simply ensure your price is marketable against current resting limit orders.</p>
<h4 id='http-request-5'>HTTP Request</h4>
<p><code>POST {clob-endpoint}/order</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="c1">// GTC Order example</span>
<span class="c1">//</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Side</span><span class="p">,</span> <span class="nx">OrderType</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@XFT/clob-client</span><span class="dl">"</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Create a buy order for 100 YES for 0.50c</span>
  <span class="c1">// YES: 71321045679252212594626385532706912750332728571942532289631379312455583992563</span>
  <span class="kd">const</span> <span class="nx">order</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">createOrder</span><span class="p">({</span>
    <span class="na">tokenID</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="nx">Side</span><span class="p">.</span><span class="nx">BUY</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="na">feeRateBps</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="na">nonce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Created Order</span><span class="dl">"</span><span class="p">,</span> <span class="nx">order</span><span class="p">);</span>

  <span class="c1">// Send it to the server</span>

  <span class="c1">// GTC Order</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">postOrder</span><span class="p">(</span><span class="nx">order</span><span class="p">,</span> <span class="nx">OrderType</span><span class="p">.</span><span class="nx">GTC</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="c1">// GTD Order example</span>
<span class="c1">//</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Side</span><span class="p">,</span> <span class="nx">OrderType</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@XFT/clob-client</span><span class="dl">"</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Create a buy order for 100 YES for 0.50c that expires in 1 minute</span>
  <span class="c1">// YES: 71321045679252212594626385532706912750332728571942532289631379312455583992563</span>

  <span class="kd">const</span> <span class="nx">oneMinute</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span>
    <span class="p">((</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">).</span><span class="nx">toString</span><span class="p">()</span>
  <span class="p">);</span>

  <span class="kd">const</span> <span class="nx">order</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">createOrder</span><span class="p">({</span>
    <span class="na">tokenID</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="nx">Side</span><span class="p">.</span><span class="nx">BUY</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="na">feeRateBps</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="na">nonce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">expiration</span><span class="p">:</span> <span class="nx">oneMinute</span><span class="p">,</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Created Order</span><span class="dl">"</span><span class="p">,</span> <span class="nx">order</span><span class="p">);</span>

  <span class="c1">// Send it to the server</span>

  <span class="c1">// GTD Order</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">postOrder</span><span class="p">(</span><span class="nx">order</span><span class="p">,</span> <span class="nx">OrderType</span><span class="p">.</span><span class="nx">GTD</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="c1">// FOK Order example</span>
<span class="c1">//</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Side</span><span class="p">,</span> <span class="nx">OrderType</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@XFT/clob-client</span><span class="dl">"</span><span class="p">;</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Create a buy order for 100 YES for 0.50c that expires in 1 minute</span>
  <span class="c1">// YES: 71321045679252212594626385532706912750332728571942532289631379312455583992563</span>

  <span class="kd">const</span> <span class="nx">oneMinute</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span>
    <span class="p">((</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">+</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">).</span><span class="nx">toString</span><span class="p">()</span>
  <span class="p">);</span>

  <span class="kd">const</span> <span class="nx">marketOrder</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">createMarketBuyOrder</span><span class="p">({</span>
    <span class="na">tokenID</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">amount</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="na">feeRateBps</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">nonce</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Created Order</span><span class="dl">"</span><span class="p">,</span> <span class="nx">order</span><span class="p">);</span>

  <span class="c1">// Send it to the server</span>

  <span class="c1">// FOK Order</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">postOrder</span><span class="p">(</span><span class="nx">order</span><span class="p">,</span> <span class="nx">OrderType</span><span class="p">.</span><span class="nx">FOK</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="c1">## GTC Order
#
</span><span class="kn">from</span> <span class="nn">py_clob_client.clob_types</span> <span class="kn">import</span> <span class="n">OrderArgs</span><span class="p">,</span> <span class="n">OrderType</span>
<span class="kn">from</span> <span class="nn">py_clob_client.order_builder.constants</span> <span class="kn">import</span> <span class="n">BUY</span>

<span class="c1">## Create and sign a limit order buying 100 YES tokens for 0.50c each
</span><span class="n">order_args</span> <span class="o">=</span> <span class="n">OrderArgs</span><span class="p">(</span>
    <span class="n">price</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>
    <span class="n">side</span><span class="o">=</span><span class="n">BUY</span><span class="p">,</span>
    <span class="n">token_id</span><span class="o">=</span><span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">signed_order</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">create_order</span><span class="p">(</span><span class="n">order_args</span><span class="p">)</span>

<span class="c1">## GTC Order
</span><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">post_order</span><span class="p">(</span><span class="n">signed_order</span><span class="p">,</span> <span class="n">OrderType</span><span class="p">.</span><span class="n">GTC</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="c1">## GTD Order
#
</span><span class="kn">from</span> <span class="nn">py_clob_client.clob_types</span> <span class="kn">import</span> <span class="n">OrderArgs</span><span class="p">,</span> <span class="n">OrderType</span>
<span class="kn">from</span> <span class="nn">py_clob_client.order_builder.constants</span> <span class="kn">import</span> <span class="n">BUY</span>

<span class="c1">## Create and sign a limit order buying 100 YES tokens for 0.50c each
</span><span class="n">order_args</span> <span class="o">=</span> <span class="n">OrderArgs</span><span class="p">(</span>
    <span class="n">price</span><span class="o">=</span><span class="mf">0.50</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span>
    <span class="n">side</span><span class="o">=</span><span class="n">BUY</span><span class="p">,</span>
    <span class="n">token_id</span><span class="o">=</span><span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span><span class="p">,</span>
    <span class="n">expiration</span><span class="o">=</span><span class="s">"100000000000"</span>
<span class="p">)</span>
<span class="n">signed_order</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">create_order</span><span class="p">(</span><span class="n">order_args</span><span class="p">)</span>

<span class="c1">## GTD Order
</span><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">post_order</span><span class="p">(</span><span class="n">signed_order</span><span class="p">,</span> <span class="n">OrderType</span><span class="p">.</span><span class="n">GTD</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div><h4 id='request-payload-parameters'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">order</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">Order</td>
<td style="text-align: center">signed order object</td>
</tr>
<tr>
<td style="text-align: center">owner</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: center">api key of oder owner</td>
</tr>
<tr>
<td style="text-align: center">orderType</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: center">order type (&quot;FOK&quot;, &quot;GTC&quot;, &quot;GTD&quot;)</td>
</tr>
</tbody></table>

<p>An <code>Order</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">salt</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">integer</td>
<td style="text-align: left">random salt used to create unique order</td>
</tr>
<tr>
<td style="text-align: center">maker</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">maker address (funder)</td>
</tr>
<tr>
<td style="text-align: center">signer</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">signing address</td>
</tr>
<tr>
<td style="text-align: center">taker</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">taker address (operator)</td>
</tr>
<tr>
<td style="text-align: center">tokenId</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">ERC1155 token ID of conditional token being traded</td>
</tr>
<tr>
<td style="text-align: center">makerAmount</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">maximum amount maker is willing to spend</td>
</tr>
<tr>
<td style="text-align: center">takerAmount</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">minimum amount taker must pay the maker in return</td>
</tr>
<tr>
<td style="text-align: center">expiration</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">unix expiration timestamp</td>
</tr>
<tr>
<td style="text-align: center">nonce</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">maker&#39;s Exchange nonce the order is associated with</td>
</tr>
<tr>
<td style="text-align: center">feeRateBps</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">fee rate in basis points as required by the operator</td>
</tr>
<tr>
<td style="text-align: center">side</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">buy or sell enum index</td>
</tr>
<tr>
<td style="text-align: center">signatureType</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">integer</td>
<td style="text-align: left">signature type enum index</td>
</tr>
<tr>
<td style="text-align: center">signature</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">hex encoded signature</td>
</tr>
</tbody></table>
<h5 id='order-types'>Order types:</h5>
<ul>
<li><code>FOK</code>: A &#39;Fill-Or-Kill&#39; order is an market order to buy shares that must be executed immediately in its entirety; otherwise, the entire order will be cancelled.</li>
<li><code>GTC</code>: A &#39;Good-Til-Cancelled&#39; order is a limit order that is active until it is fulfilled or cancelled.</li>
<li><code>GTD</code>: A &#39;Good-Til-Day&#39; order is a type of order that is active until its specified date (UTC seconds timestamp), unless it has already been fulfilled or cancelled</li>
</ul>
<h4 id='response-format'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">success</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">boolean indicating server-side error (<code>if success == false</code> -&gt; server-side error)</td>
</tr>
<tr>
<td style="text-align: center">errorMsg</td>
<td style="text-align: center">string</td>
<td style="text-align: left">error message in case of unsuccessful placement (in case <code>success == true &amp;&amp; errorMsg != &#39;&#39;</code> -&gt; client-side error, the reason is in <code>errorMsg</code>)</td>
</tr>
<tr>
<td style="text-align: center">orderID</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of order</td>
</tr>
<tr>
<td style="text-align: center">transactionsHashes</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">hash of settlement transaction if order was marketable and triggered a match action</td>
</tr>
<tr>
<td style="text-align: center">status</td>
<td style="text-align: center">string</td>
<td style="text-align: left">order status</td>
</tr>
</tbody></table>
<h4 id='insert-errors-messages'>Insert Errors/Messages</h4>
<p>If the <code>errorMsg</code> field of the response object from placement is not an empty string the order was not able to be immediately placed. This might be because of a delay or because of a failure. If the <code>success</code> is not <code>true</code> then there was an issue placing the order. The following errors/messages are possible.</p>

<table><thead>
<tr>
<th style="text-align: center">Error</th>
<th style="text-align: center">Failure?</th>
<th style="text-align: center">Message</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">INVALID_ORDER_MIN_TICK_SIZE</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">order is invalid. Price () breaks minimum tick size rule:</td>
<td style="text-align: center">order price isn&#39;t accurate to correct tick sizing</td>
</tr>
<tr>
<td style="text-align: center">INVALID_ORDER_MIN_SIZE</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">order is invalid. Size () lower than the minimum:</td>
<td style="text-align: center">order size must meet min size threshold requirement</td>
</tr>
<tr>
<td style="text-align: center">INVALID_ORDER_DUPLICATED</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">order is invalid. Duplicated.</td>
<td style="text-align: center">same order has already been placed, can&#39;t be placed again</td>
</tr>
<tr>
<td style="text-align: center">INVALID_ORDER_NOT_ENOUGH_BALANCE</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">not enough balance / allowance</td>
<td style="text-align: center">funder address doesn&#39;t have sufficient balance or allowance for order</td>
</tr>
<tr>
<td style="text-align: center">INVALID_ORDER_EXPIRATION</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">invalid expiration</td>
<td style="text-align: center">expiration field expresses a time before now</td>
</tr>
<tr>
<td style="text-align: center">INSERT_ORDER_ERROR</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">could not insert order</td>
<td style="text-align: center">system error while inserting order</td>
</tr>
<tr>
<td style="text-align: center">EXECUTION_ERROR</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">could not run the execution</td>
<td style="text-align: center">system error while attempting to execute trade</td>
</tr>
<tr>
<td style="text-align: center">ORDER_DELAYED</td>
<td style="text-align: center">no</td>
<td style="text-align: center">order match delayed due to market conditions</td>
<td style="text-align: center">order placement delayed</td>
</tr>
<tr>
<td style="text-align: center">DELAYING_ORDER_ERROR</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">error delaying the order</td>
<td style="text-align: center">system error while delaying order</td>
</tr>
<tr>
<td style="text-align: center">FOK_ORDER_NOT_FILLED_ERROR</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">order couldn&#39;t be fully filled. FOK orders are fully filled or killed.</td>
<td style="text-align: center">FOK order not fully filled so can&#39;t be placed</td>
</tr>
<tr>
<td style="text-align: center">MARKET_NOT_READY</td>
<td style="text-align: center">no</td>
<td style="text-align: center">the market is not yet ready to process new orders</td>
<td style="text-align: center">system not accepting orders for market yet</td>
</tr>
</tbody></table>
<h4 id='insert-statuses'>Insert Statuses</h4>
<p>When placing an order, a status field is included. This status field provides additional information regarding the order&#39;s state as a result of the placement. Possible values include:</p>

<table><thead>
<tr>
<th style="text-align: center">Status</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">live</td>
<td style="text-align: left">order placed and live</td>
</tr>
<tr>
<td style="text-align: center">matched</td>
<td style="text-align: left">order matched (marketable)</td>
</tr>
<tr>
<td style="text-align: center">delayed</td>
<td style="text-align: left">order marketable, but subject to matching delay</td>
</tr>
<tr>
<td style="text-align: center">unmatched</td>
<td style="text-align: left">order marketable, but failure delaying, placement not successful</td>
</tr>
</tbody></table>
<h3 id='get-order'>Get Order</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Get single order by id.</p>
<h4 id='http-request-6'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/data/order/{order hash}</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">order</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getOrder</span><span class="p">(</span>
    <span class="dl">"</span><span class="s2">0xb816482a5187a3d3db49cbaf6fe3ddf24f53e6c712b5a4bf5e01d0ec7b11dabc</span><span class="dl">"</span>
  <span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">order</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">order</span> <span class="o">=</span> <span class="n">clob_client</span><span class="p">.</span><span class="n">get_order</span><span class="p">(</span><span class="s">"0xb816482a5187a3d3db49cbaf6fe3ddf24f53e6c712b5a4bf5e01d0ec7b11dabc"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
</code></pre></div><h4 id='request-parameters'>Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">id</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of order to get information about</td>
</tr>
</tbody></table>
<h4 id='response-format-2'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">null</td>
<td style="text-align: center">OpenOrder</td>
<td style="text-align: left">order if it is exists</td>
</tr>
</tbody></table>

<p>An <code>OpenOrder</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">associate_trades</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">any Trade id the order has been partially included in</td>
</tr>
<tr>
<td style="text-align: center">id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">order id</td>
</tr>
<tr>
<td style="text-align: center">status</td>
<td style="text-align: center">string</td>
<td style="text-align: left">order current status</td>
</tr>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">string</td>
<td style="text-align: left">market id (condition id)</td>
</tr>
<tr>
<td style="text-align: center">original_size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">original order size at placement</td>
</tr>
<tr>
<td style="text-align: center">outcome</td>
<td style="text-align: center">string</td>
<td style="text-align: left">human readable outcome the order is for</td>
</tr>
<tr>
<td style="text-align: center">maker_address</td>
<td style="text-align: center">string</td>
<td style="text-align: left">maker address (funder)</td>
</tr>
<tr>
<td style="text-align: center">owner</td>
<td style="text-align: center">string</td>
<td style="text-align: left">api key</td>
</tr>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: left">price</td>
</tr>
<tr>
<td style="text-align: center">side</td>
<td style="text-align: center">string</td>
<td style="text-align: left">buy or sell</td>
</tr>
<tr>
<td style="text-align: center">size_matched</td>
<td style="text-align: center">string</td>
<td style="text-align: left">size of order that has been matched/filled</td>
</tr>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">token id</td>
</tr>
<tr>
<td style="text-align: center">expiration</td>
<td style="text-align: center">string</td>
<td style="text-align: left">unix timestamp when the order expired, 0 if it does not expire</td>
</tr>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">string</td>
<td style="text-align: left">order type (GTC, FOK, GTD)</td>
</tr>
<tr>
<td style="text-align: center">created_at</td>
<td style="text-align: center">string</td>
<td style="text-align: left">unix timestamp when the order was created</td>
</tr>
</tbody></table>
<h3 id='check-if-an-order-is-scoring'>Check if an order is scoring</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Returns a boolean value where it is indicated if an order is scoring or not.</p>
<h4 id='http-request-7'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/order-scoring?order_id={...}</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">scoring</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">isOrderScoring</span><span class="p">({</span>
    <span class="na">orderId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x...</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scoring</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">scoring</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">is_order_scoring</span><span class="p">(</span>
    <span class="n">OrderScoringParams</span><span class="p">(</span>
        <span class="n">orderId</span><span class="o">=</span><span class="s">"0x..."</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">scoring</span><span class="p">)</span>
</code></pre></div><h4 id='request-parameters-2'>Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">orderId</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of order to get information about</td>
</tr>
</tbody></table>
<h4 id='response-format-3'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">null</td>
<td style="text-align: center">OrderScoring</td>
<td style="text-align: left">order scoring data</td>
</tr>
</tbody></table>

<p>An <code>OrderScoring</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">scoring</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">indicates if the order is scoring or not</td>
</tr>
</tbody></table>
<h3 id='check-if-some-orders-are-scoring'>Check if some orders are scoring</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Returns a a dictionary with boolean value where it is indicated if an order is scoring or not.</p>
<h4 id='http-request-8'>HTTP Request</h4>
<p><code>POST {clob-endpoint}/orders-scoring</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">scoring</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">areOrdersScoring</span><span class="p">({</span>
    <span class="na">orderIds</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">0x...</span><span class="dl">"</span><span class="p">],</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">scoring</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">scoring</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">are_orders_scoring</span><span class="p">(</span>
    <span class="n">OrdersScoringParams</span><span class="p">(</span>
        <span class="n">orderIds</span><span class="o">=</span><span class="p">[</span><span class="s">"0x..."</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">scoring</span><span class="p">)</span>
</code></pre></div><h4 id='request-parameters-3'>Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">orderIds</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">ids of the orders to get information about</td>
</tr>
</tbody></table>
<h4 id='response-format-4'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">null</td>
<td style="text-align: center">OrdersScoring</td>
<td style="text-align: left">orders scoring data</td>
</tr>
</tbody></table>

<p>An <code>OrdersScoring</code> object is a dictionary that indicates order by order if it scores:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"0x0"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"0x1"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-active-orders'>Get Active Orders</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Get active order(s) for a specific market.</p>
<h4 id='http-request-9'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/data/orders</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getOpenOrders</span><span class="p">({</span>
    <span class="na">market</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Done!`</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">py_clob_client.clob_types</span> <span class="kn">import</span> <span class="n">OpenOrderParams</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_orders</span><span class="p">(</span>
    <span class="n">OpenOrderParams</span><span class="p">(</span>
        <span class="n">market</span><span class="o">=</span><span class="s">"0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af"</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Done!"</span><span class="p">)</span>
</code></pre></div><h4 id='request-parameters-4'>Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">id</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of order to get information about</td>
</tr>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">condition id of market</td>
</tr>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of the asset/token</td>
</tr>
</tbody></table>
<h4 id='response-format-5'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">null</td>
<td style="text-align: center">OpenOrder[]</td>
<td style="text-align: left">list of open orders filtered by query parameters</td>
</tr>
</tbody></table>
<h3 id='cancel-an-order'>Cancel an Order</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Cancel an order.</p>
<h4 id='http-request-10'>HTTP Request</h4>
<p><code>DELETE {clob-endpoint}/order</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Send it to the server</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">cancelOrder</span><span class="p">({</span>
    <span class="na">orderID</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">0x38a73eed1e6d177545e9ab027abddfb7e08dbe975fa777123b1752d203d6ac88</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Done!`</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">cancel</span><span class="p">(</span><span class="n">order_id</span><span class="o">=</span><span class="s">"0x38a73eed1e6d177545e9ab027abddfb7e08dbe975fa777123b1752d203d6ac88"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div><h4 id='request-payload-parameters-2'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">orderID</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">ID of order to cancel</td>
</tr>
</tbody></table>
<h4 id='response-format-6'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">canceled</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">list of canceled orders</td>
</tr>
<tr>
<td style="text-align: center">not_canceled</td>
<td style="text-align: center">{ }</td>
<td style="text-align: left">a order id - reason map that explains why that order couldn&#39;t be canceled</td>
</tr>
</tbody></table>
<h3 id='cancel-orders'>Cancel orders</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Cancel many orders.</p>
<h4 id='http-request-11'>HTTP Request</h4>
<p><code>DELETE {clob-endpoint}/orders</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Send it to the server</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">cancelOrders</span><span class="p">([</span>
    <span class="dl">"</span><span class="s2">0x38a73eed1e6d177545e9ab027abddfb7e08dbe975fa777123b1752d203d6ac88</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">0xaaaa...</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Done!`</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">cancel_orders</span><span class="p">([</span><span class="s">"0x38a73eed1e6d177545e9ab027abddfb7e08dbe975fa777123b1752d203d6ac88"</span><span class="p">,</span> <span class="s">"0xaaaa..."</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div><h4 id='request-payload-parameters-3'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">null</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">IDs of the orders to cancel</td>
</tr>
</tbody></table>
<h4 id='response-format-7'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">canceled</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">list of canceled orders</td>
</tr>
<tr>
<td style="text-align: center">not_canceled</td>
<td style="text-align: center">{ }</td>
<td style="text-align: left">a order id - reason map that explains why that order couldn&#39;t be canceled</td>
</tr>
</tbody></table>
<h3 id='cancel-all-orders'>Cancel All Orders</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Cancel all open orders posted by a user.</p>
<h4 id='http-request-12'>HTTP Request</h4>
<p><code>DELETE {clob-endpoint}/cancel-all</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">cancelAll</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Done!`</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">cancel_all</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Done!"</span><span class="p">)</span>
</code></pre></div><h4 id='response-format-8'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">canceled</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">list of canceled orders</td>
</tr>
<tr>
<td style="text-align: center">not_canceled</td>
<td style="text-align: center">{ }</td>
<td style="text-align: left">a order id - reason map that explains why that order couldn&#39;t be canceled</td>
</tr>
</tbody></table>
<h3 id='cancel-orders-from-market'>Cancel orders from market</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Cancel orders from market.</p>
<h4 id='http-request-13'>HTTP Request</h4>
<p><code>DELETE {clob-endpoint}/cancel-market-orders</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Send it to the server</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">cancelMarketOrders</span><span class="p">({</span>
    <span class="na">market</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">asset_id</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">52114319501245915516055106046884209969926127482827954674443846427813813222426</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Done!`</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">cancel_market_orders</span><span class="p">(</span><span class="n">market</span><span class="o">=</span><span class="s">"0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af"</span><span class="p">,</span> <span class="n">asset_id</span><span class="o">=</span><span class="s">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div><h4 id='request-payload-parameters-4'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">condition id of the market</td>
</tr>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of the asset/token</td>
</tr>
</tbody></table>
<h4 id='response-format-9'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">canceled</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">list of canceled orders</td>
</tr>
<tr>
<td style="text-align: center">not_canceled</td>
<td style="text-align: center">{ }</td>
<td style="text-align: left">a order id - reason map that explains why that order couldn&#39;t be canceled</td>
</tr>
</tbody></table>
<h2 id='trades'>Trades</h2><h3 id='overview-3'>Overview</h3>
<p>All historical trades can be fetched via the XFT CLOB REST API. A trade is initiated by a &quot;taker&quot; who creates a marketable limit order. This limit order can be matched against one or more resting limit orders on the associated book. A trade can be in various states as described below. Note in some cases (due to gas limitations) the execution of a &quot;trade&quot; must be broken into multiple transactions in which case separate trade entities will be returned. To make these trade entires associable, there is a <code>bucket_index</code> field, a <code>market_order</code> field and a <code>match_time</code> field. Trades that have been broken into multiple trade objects can be reconciled by combining trade objects with the same <code>market_order</code>, <code>match_time</code> and incrementing <code>bucket_index</code>s into a top level &quot;trade&quot; client side.</p>
<h3 id='statuses'>Statuses</h3>
<table><thead>
<tr>
<th style="text-align: center">Status</th>
<th style="text-align: center">Terminal?</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><code>MATCHED</code></td>
<td style="text-align: center">no</td>
<td style="text-align: left">trade has been matched and sent to the executor service by the operator, the executor service submits the trade as a transaction to the Exchange contract</td>
</tr>
<tr>
<td style="text-align: center"><code>MINED</code></td>
<td style="text-align: center">no</td>
<td style="text-align: left">trade is observed to be mined into the chain, no finality threshold established</td>
</tr>
<tr>
<td style="text-align: center"><code>CONFIRMED</code></td>
<td style="text-align: center">yes</td>
<td style="text-align: left">trade has achieved strong probabilistic finality and was successful</td>
</tr>
<tr>
<td style="text-align: center"><code>RETRYING</code></td>
<td style="text-align: center">no</td>
<td style="text-align: left">trade transaction has failed (revert or reorg) and is being retried/resubmitted by the operator</td>
</tr>
<tr>
<td style="text-align: center"><code>FAILED</code></td>
<td style="text-align: center">yes</td>
<td style="text-align: left">trade has failed and is not being retried</td>
</tr>
</tbody></table>
<h3 id='get-trades'>Get Trades</h3>
<aside class="notice">
This endpoint required a L2 Header.
</aside>

<p>Get trades for the authenticated user based on the provided filters.</p>
<h4 id='http-request-14'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/data/trades</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">trades</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getTrades</span><span class="p">({</span>
    <span class="na">market</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">maker_address</span><span class="p">:</span> <span class="k">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getAddress</span><span class="p">(),</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`trades: `</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">trades</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">py_clob_client.clob_types</span> <span class="kn">import</span> <span class="n">TradeParams</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_trades</span><span class="p">(</span>
    <span class="n">TradeParams</span><span class="p">(</span>
        <span class="n">maker_address</span><span class="o">=</span><span class="n">client</span><span class="p">.</span><span class="n">get_address</span><span class="p">(),</span>
        <span class="n">market</span><span class="o">=</span><span class="s">"0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af"</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Done!"</span><span class="p">)</span>
</code></pre></div><h4 id='request-parameters-5'>Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">id</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of trade to fetch</td>
</tr>
<tr>
<td style="text-align: center">taker</td>
<td style="text-align: center">taker or maker</td>
<td style="text-align: center">string</td>
<td style="text-align: left">address to get trades for where it is included as a taker</td>
</tr>
<tr>
<td style="text-align: center">maker</td>
<td style="text-align: center">maker or taker</td>
<td style="text-align: center">string</td>
<td style="text-align: left">address to get trades for where it is included as a maker</td>
</tr>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">market for which to get trades for (condition ID)</td>
</tr>
<tr>
<td style="text-align: center">before</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">unix timestamp representing the cutoff up to which trades that happened before then can be included</td>
</tr>
<tr>
<td style="text-align: center">after</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">unix timestamp representing the cutoff for which trades that happened after can be included</td>
</tr>
</tbody></table>
<h4 id='response-format-10'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">null</td>
<td style="text-align: center">Trade[]</td>
<td style="text-align: left">list of trades filtered by query parameters</td>
</tr>
</tbody></table>

<p>A <code>Trade</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">trade id</td>
</tr>
<tr>
<td style="text-align: center">taker_order_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">hash of taker order (market order) that catalyzed the trade</td>
</tr>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">string</td>
<td style="text-align: left">market id (condition id)</td>
</tr>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">asset id (token id) of taker order (market order)</td>
</tr>
<tr>
<td style="text-align: center">side</td>
<td style="text-align: center">string</td>
<td style="text-align: left">buy or sell</td>
</tr>
<tr>
<td style="text-align: center">size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">size</td>
</tr>
<tr>
<td style="text-align: center">fee_rate_bps</td>
<td style="text-align: center">string</td>
<td style="text-align: left">the fees paid for the taker order expressed in basic points</td>
</tr>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: left">limit price of taker order</td>
</tr>
<tr>
<td style="text-align: center">status</td>
<td style="text-align: center">string</td>
<td style="text-align: left">trade status (see above)</td>
</tr>
<tr>
<td style="text-align: center">match_time</td>
<td style="text-align: center">string</td>
<td style="text-align: left">time at which the trade was matched</td>
</tr>
<tr>
<td style="text-align: center">last_update</td>
<td style="text-align: center">string</td>
<td style="text-align: left">timestamp of last status update</td>
</tr>
<tr>
<td style="text-align: center">outcome</td>
<td style="text-align: center">string</td>
<td style="text-align: left">human readable outcome of the trade</td>
</tr>
<tr>
<td style="text-align: center">maker_address</td>
<td style="text-align: center">string</td>
<td style="text-align: left">funder address of the taker of the trade</td>
</tr>
<tr>
<td style="text-align: center">owner</td>
<td style="text-align: center">string</td>
<td style="text-align: left">api key of taker of the trade</td>
</tr>
<tr>
<td style="text-align: center">transaction_hash</td>
<td style="text-align: center">string</td>
<td style="text-align: left">hash of the transaction where the trade was executed</td>
</tr>
<tr>
<td style="text-align: center">bucket_index</td>
<td style="text-align: center">integer</td>
<td style="text-align: left">index of bucket for trade in case trade is executed in multiple transactions</td>
</tr>
<tr>
<td style="text-align: center">maker_orders</td>
<td style="text-align: center">MakerOrder[]</td>
<td style="text-align: left">list of maker trades the taker trade was filled against</td>
</tr>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">string</td>
<td style="text-align: left">side of the trade: TAKER or MAKER</td>
</tr>
</tbody></table>

<p>A <code>MakerOrder</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">order_id</td>
<td style="text-align: center">string</td>
<td style="text-align: center">id of maker order</td>
</tr>
<tr>
<td style="text-align: center">maker_address</td>
<td style="text-align: center">string</td>
<td style="text-align: center">maker address of the order</td>
</tr>
<tr>
<td style="text-align: center">owner</td>
<td style="text-align: center">string</td>
<td style="text-align: center">api key of the owner of the order</td>
</tr>
<tr>
<td style="text-align: center">matched_amount</td>
<td style="text-align: center">string</td>
<td style="text-align: center">size of maker order consumed with this trade</td>
</tr>
<tr>
<td style="text-align: center">fee_rate_bps</td>
<td style="text-align: center">string</td>
<td style="text-align: center">the fees paid for the taker order expressed in basic points</td>
</tr>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: center">price of maker order</td>
</tr>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: center">token/asset id</td>
</tr>
<tr>
<td style="text-align: center">outcome</td>
<td style="text-align: center">string</td>
<td style="text-align: center">human readable outcome of the maker order</td>
</tr>
</tbody></table>
<h2 id='markets'>Markets</h2><h3 id='get-markets'>Get Markets</h3>
<p>Get available CLOB markets (paginated).</p>
<h4 id='http-request-15'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/markets?next_cursor={next_cursor}</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">markets</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getMarkets</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`markets: `</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">markets</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_markets</span><span class="p">(</span><span class="n">next_cursor</span> <span class="o">=</span> <span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Done!"</span><span class="p">)</span>
</code></pre></div><h4 id='request-parameters-6'>Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">next_cursor</td>
<td style="text-align: center">no</td>
<td style="text-align: center">string</td>
<td style="text-align: left">cursor to start with, used for traversing paginated response</td>
</tr>
</tbody></table>
<h4 id='response-format-11'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">limit</td>
<td style="text-align: center">number</td>
<td style="text-align: left">limit of results on a single page</td>
</tr>
<tr>
<td style="text-align: center">count</td>
<td style="text-align: center">number</td>
<td style="text-align: left">number of results</td>
</tr>
<tr>
<td style="text-align: center">next_cursor</td>
<td style="text-align: center">string</td>
<td style="text-align: left">pagination item to retrieve the next page base64 encoded. &#39;LTE=&#39; means the end and empty (&#39;&#39;) means the beginning</td>
</tr>
<tr>
<td style="text-align: center">data</td>
<td style="text-align: center">Market[]</td>
<td style="text-align: left">list of markets</td>
</tr>
</tbody></table>

<p>A <code>Market</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">condition_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of market which is also the CTF condition ID</td>
</tr>
<tr>
<td style="text-align: center">question_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">question id of market which is also the CTF question ID which is used to derive the <code>condition_id</code></td>
</tr>
<tr>
<td style="text-align: center">tokens</td>
<td style="text-align: center">Tokens[2]</td>
<td style="text-align: left">binary token pair for market</td>
</tr>
<tr>
<td style="text-align: center">rewards</td>
<td style="text-align: center">Rewards</td>
<td style="text-align: left">rewards related data</td>
</tr>
<tr>
<td style="text-align: center">minimum_order_size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">minimum limit order size</td>
</tr>
<tr>
<td style="text-align: center">minimum_tick_size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">minimum tick size in units of implied probability (max price resolution)</td>
</tr>
<tr>
<td style="text-align: center">description</td>
<td style="text-align: center">string</td>
<td style="text-align: left">market description</td>
</tr>
<tr>
<td style="text-align: center">category</td>
<td style="text-align: center">string</td>
<td style="text-align: left">market category</td>
</tr>
<tr>
<td style="text-align: center">end_date_iso</td>
<td style="text-align: center">string</td>
<td style="text-align: left">iso string of market end date</td>
</tr>
<tr>
<td style="text-align: center">game_start_time</td>
<td style="text-align: center">string</td>
<td style="text-align: left">iso string of game start time which is used to trigger delay</td>
</tr>
<tr>
<td style="text-align: center">question</td>
<td style="text-align: center">string</td>
<td style="text-align: left">question</td>
</tr>
<tr>
<td style="text-align: center">market_slug</td>
<td style="text-align: center">string</td>
<td style="text-align: left">slug of market</td>
</tr>
<tr>
<td style="text-align: center">min_incentive_size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">minimum resting order size for incentive qualification</td>
</tr>
<tr>
<td style="text-align: center">max_incentive_spread</td>
<td style="text-align: center">string</td>
<td style="text-align: left">max spread up to which orders are qualified for incentives (in cents)</td>
</tr>
<tr>
<td style="text-align: center">active</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">boolean indicating whether market is active/live</td>
</tr>
<tr>
<td style="text-align: center">closed</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">boolean indicating whether market is closed/open</td>
</tr>
<tr>
<td style="text-align: center">seconds_delay</td>
<td style="text-align: center">integer</td>
<td style="text-align: left">seconds of match delay for in-game trading</td>
</tr>
<tr>
<td style="text-align: center">icon</td>
<td style="text-align: center">string</td>
<td style="text-align: left">reference to market icon image</td>
</tr>
<tr>
<td style="text-align: center">fpmm</td>
<td style="text-align: center">string</td>
<td style="text-align: left">address of associated fixed product market maker on Polygon network</td>
</tr>
</tbody></table>

<p>Where the <code>Token</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">token_id</td>
<td style="text-align: center">string</td>
<td style="text-align: center">erc1155 token id</td>
</tr>
<tr>
<td style="text-align: center">outcome</td>
<td style="text-align: center">string</td>
<td style="text-align: center">human readable outcome</td>
</tr>
</tbody></table>

<p>Where the <code>Rewards</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">min_size</td>
<td style="text-align: center">number</td>
<td style="text-align: center">min size of an order to score</td>
</tr>
<tr>
<td style="text-align: center">max_spread</td>
<td style="text-align: center">number</td>
<td style="text-align: center">max spread from the midpoint until an order scores</td>
</tr>
<tr>
<td style="text-align: center">event_start_date</td>
<td style="text-align: center">string</td>
<td style="text-align: center">string date when the event starts</td>
</tr>
<tr>
<td style="text-align: center">event_end_date</td>
<td style="text-align: center">string</td>
<td style="text-align: center">string date when the event end</td>
</tr>
<tr>
<td style="text-align: center">in_game_multiplier</td>
<td style="text-align: center">number</td>
<td style="text-align: center">reward multiplier while the game has started</td>
</tr>
<tr>
<td style="text-align: center">reward_epoch</td>
<td style="text-align: center">number</td>
<td style="text-align: center">current reward epoch</td>
</tr>
</tbody></table>
<h3 id='get-sampling-markets'>Get Sampling Markets</h3>
<p>Get available CLOB markets that have rewards enabled.</p>
<h4 id='http-request-16'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/sampling-markets?next_cursor={next_cursor}</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">markets</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getSamplingMarkets</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`markets: `</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">markets</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_sampling_markets</span><span class="p">(</span><span class="n">next_cursor</span> <span class="o">=</span> <span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Done!"</span><span class="p">)</span>
</code></pre></div><h4 id='response-format-12'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">limit</td>
<td style="text-align: center">number</td>
<td style="text-align: left">limit of results on a single page</td>
</tr>
<tr>
<td style="text-align: center">count</td>
<td style="text-align: center">number</td>
<td style="text-align: left">number of results</td>
</tr>
<tr>
<td style="text-align: center">next_cursor</td>
<td style="text-align: center">string</td>
<td style="text-align: left">pagination item to retrieve the next page base64 encoded. &#39;LTE=&#39; means the end and empty (&#39;&#39;) means the beginning</td>
</tr>
<tr>
<td style="text-align: center">data</td>
<td style="text-align: center">Market[]</td>
<td style="text-align: left">list of sampling markets</td>
</tr>
</tbody></table>
<h3 id='get-simplified-markets'>Get Simplified Markets</h3>
<p>Get available CLOB markets expresed in a reduced schema.</p>
<h4 id='http-request-17'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/simplified-markets?next_cursor={next_cursor}</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">markets</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getSimplifiedMarkets</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`markets: `</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">markets</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_simplified_markets</span><span class="p">(</span><span class="n">next_cursor</span> <span class="o">=</span> <span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Done!"</span><span class="p">)</span>
</code></pre></div><h4 id='response-format-13'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">limit</td>
<td style="text-align: center">number</td>
<td style="text-align: left">limit of results on a single page</td>
</tr>
<tr>
<td style="text-align: center">count</td>
<td style="text-align: center">number</td>
<td style="text-align: left">number of results</td>
</tr>
<tr>
<td style="text-align: center">next_cursor</td>
<td style="text-align: center">string</td>
<td style="text-align: left">pagination item to retrieve the next page base64 encoded. &#39;LTE=&#39; means the end and empty (&#39;&#39;) means the beginning</td>
</tr>
<tr>
<td style="text-align: center">data</td>
<td style="text-align: center">SimplifiedMarket[]</td>
<td style="text-align: left">list of markets</td>
</tr>
</tbody></table>

<p>A <code>SimplifiedMarket</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">condition_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of market which is also the CTF condition ID</td>
</tr>
<tr>
<td style="text-align: center">tokens</td>
<td style="text-align: center">Tokens[2]</td>
<td style="text-align: left">binary token pair for market</td>
</tr>
<tr>
<td style="text-align: center">rewards</td>
<td style="text-align: center">Rewards</td>
<td style="text-align: left">rewards related data</td>
</tr>
<tr>
<td style="text-align: center">min_incentive_size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">minimum resting order size for incentive qualification</td>
</tr>
<tr>
<td style="text-align: center">max_incentive_spread</td>
<td style="text-align: center">string</td>
<td style="text-align: left">max spread up to which orders are qualified for incentives (in cents)</td>
</tr>
<tr>
<td style="text-align: center">active</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">boolean indicating whether market is active/live</td>
</tr>
<tr>
<td style="text-align: center">closed</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">boolean indicating whether market is closed/open</td>
</tr>
</tbody></table>
<h3 id='get-sampling-simplified-markets'>Get Sampling Simplified Markets</h3>
<p>Get available CLOB markets expresed in a reduced schema that have rewards enabled.</p>
<h4 id='http-request-18'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/sampling-simplified-markets?next_cursor={next_cursor}</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">markets</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getSamplingSimplifiedMarkets</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`markets: `</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">markets</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_sampling_simplified_markets</span><span class="p">(</span><span class="n">next_cursor</span> <span class="o">=</span> <span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Done!"</span><span class="p">)</span>
</code></pre></div><h4 id='response-format-14'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">limit</td>
<td style="text-align: center">number</td>
<td style="text-align: left">limit of results on a single page</td>
</tr>
<tr>
<td style="text-align: center">count</td>
<td style="text-align: center">number</td>
<td style="text-align: left">number of results</td>
</tr>
<tr>
<td style="text-align: center">next_cursor</td>
<td style="text-align: center">string</td>
<td style="text-align: left">pagination item to retrieve the next page base64 encoded. &#39;LTE=&#39; means the end and empty (&#39;&#39;) means the beginning</td>
</tr>
<tr>
<td style="text-align: center">data</td>
<td style="text-align: center">SimplifiedMarket[]</td>
<td style="text-align: left">list of sampling markets</td>
</tr>
</tbody></table>
<h3 id='get-market'>Get Market</h3>
<p>Get a single CLOB market.</p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">market</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getMarket</span><span class="p">(</span><span class="dl">"</span><span class="s2">condition_id</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`market: `</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">market</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_market</span><span class="p">(</span><span class="n">condition_id</span> <span class="o">=</span> <span class="s">"..."</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Done!"</span><span class="p">)</span>
</code></pre></div><h4 id='http-request-19'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/markets/{condition_id}</code></p>
<h4 id='response-format-15'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">Market</td>
<td style="text-align: left">market object</td>
</tr>
</tbody></table>
<h2 id='prices-and-books'>Prices and Books</h2><h3 id='get-book'>Get Book</h3>
<p>Get a order book summary for a market.</p>
<h4 id='http-request-20'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/book</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getOrderBook</span><span class="p">(</span>
    <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span>
  <span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="k">print</span><span class="p">(</span>
    <span class="n">client</span><span class="p">.</span><span class="n">get_order_book</span><span class="p">(</span>
        <span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div><h4 id='request-parameters-7'>Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">token ID of market to get book for</td>
</tr>
</tbody></table>
<h4 id='response-format-16'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">string</td>
<td style="text-align: left">condition id</td>
</tr>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of the asset/token</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">string</td>
<td style="text-align: left">hash summary of the orderbook content</td>
</tr>
<tr>
<td style="text-align: center">bids</td>
<td style="text-align: center">OrderSummary[]</td>
<td style="text-align: left">list of bid levels</td>
</tr>
<tr>
<td style="text-align: center">asks</td>
<td style="text-align: center">OrderSummary[]</td>
<td style="text-align: left">list of ask levels</td>
</tr>
</tbody></table>

<p>A <code>OrderSummary</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: left">price</td>
</tr>
<tr>
<td style="text-align: center">size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">size</td>
</tr>
</tbody></table>
<h3 id='get-books'>Get Books</h3>
<p>Get order book summaries for a set of markets.</p>
<h4 id='http-request-21'>HTTP Request</h4>
<p><code>POST {clob-endpoint}/books</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">YES</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">NO</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">52114319501245915516055106046884209969926127482827954674443846427813813222426</span><span class="dl">"</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">orderbooks</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getOrderBooks</span><span class="p">([</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">YES</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">NO</span> <span class="p">},</span>
  <span class="p">]</span> <span class="k">as</span> <span class="nx">BookParams</span><span class="p">[]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">orderbooks</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="k">print</span><span class="p">(</span>
    <span class="n">client</span><span class="p">.</span><span class="n">get_order_books</span><span class="p">(</span>
        <span class="n">params</span><span class="o">=</span><span class="p">[</span>
            <span class="n">BookParams</span><span class="p">(</span>
                <span class="n">token_id</span><span class="o">=</span><span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span>
            <span class="p">),</span>
            <span class="n">BookParams</span><span class="p">(</span>
                <span class="n">token_id</span><span class="o">=</span><span class="s">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span>
            <span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div><h4 id='request-parameters-8'>Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">params</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">BookParams</td>
<td style="text-align: left">search params for books</td>
</tr>
</tbody></table>

<p>A <code>BookParams</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">token ID of market to get book for</td>
</tr>
</tbody></table>
<h4 id='response-format-17'>Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">-</td>
<td style="text-align: center">Orderbook[]</td>
<td style="text-align: left">list orderbooks</td>
</tr>
</tbody></table>

<p>A <code>Orderbook</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">string</td>
<td style="text-align: left">condition id</td>
</tr>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of the asset/token</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">string</td>
<td style="text-align: left">hash summary of the orderbook content</td>
</tr>
<tr>
<td style="text-align: center">bids</td>
<td style="text-align: center">OrderSummary[]</td>
<td style="text-align: left">list of bid levels</td>
</tr>
<tr>
<td style="text-align: center">asks</td>
<td style="text-align: center">OrderSummary[]</td>
<td style="text-align: left">list of ask levels</td>
</tr>
</tbody></table>

<p>A <code>OrderSummary</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: left">price</td>
</tr>
<tr>
<td style="text-align: center">size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">size</td>
</tr>
</tbody></table>
<h3 id='get-price'>Get Price</h3>
<p>Get the price for a market (best bid or best ask).</p>
<h4 id='http-request-22'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/price</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">YES_TOKEN_ID</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">NO_TOKEN_ID</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">52114319501245915516055106046884209969926127482827954674443846427813813222426</span><span class="dl">"</span><span class="p">;</span>

  <span class="nx">clobClient</span>
    <span class="p">.</span><span class="nx">getPrice</span><span class="p">(</span><span class="nx">YES_TOKEN_ID</span><span class="p">,</span> <span class="dl">"</span><span class="s2">buy</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">price</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">YES</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">BUY</span><span class="dl">"</span><span class="p">,</span> <span class="nx">price</span><span class="p">));</span>
  <span class="nx">clobClient</span>
    <span class="p">.</span><span class="nx">getPrice</span><span class="p">(</span><span class="nx">YES_TOKEN_ID</span><span class="p">,</span> <span class="dl">"</span><span class="s2">sell</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">price</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">YES</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">SELL</span><span class="dl">"</span><span class="p">,</span> <span class="nx">price</span><span class="p">));</span>
  <span class="nx">clobClient</span>
    <span class="p">.</span><span class="nx">getPrice</span><span class="p">(</span><span class="nx">NO_TOKEN_ID</span><span class="p">,</span> <span class="dl">"</span><span class="s2">buy</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">price</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">NO</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">BUY</span><span class="dl">"</span><span class="p">,</span> <span class="nx">price</span><span class="p">));</span>
  <span class="nx">clobClient</span>
    <span class="p">.</span><span class="nx">getPrice</span><span class="p">(</span><span class="nx">NO_TOKEN_ID</span><span class="p">,</span> <span class="dl">"</span><span class="s2">sell</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">price</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">NO</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">SELL</span><span class="dl">"</span><span class="p">,</span> <span class="nx">price</span><span class="p">));</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="k">print</span><span class="p">(</span>
    <span class="n">client</span><span class="p">.</span><span class="n">get_price</span><span class="p">(</span>
        <span class="n">token_id</span><span class="o">=</span><span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s">"buy
    )
)
</span></code></pre></div><h4 id='request-payload-parameters-5'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">token ID to get price for</td>
</tr>
<tr>
<td style="text-align: center">side</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">buy or sell</td>
</tr>
</tbody></table>
<h4 id='response'>Response</h4>
<p><code>{&quot;price&quot;: &quot;.513&quot;}</code></p>
<h3 id='get-prices'>Get Prices</h3>
<p>Get the prices for a group of markets (best bid or best ask).</p>
<h4 id='http-request-23'>HTTP Request</h4>
<p><code>POST {clob-endpoint}/prices</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">YES</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">NO</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">52114319501245915516055106046884209969926127482827954674443846427813813222426</span><span class="dl">"</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">prices</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getPrices</span><span class="p">([</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">YES</span><span class="p">,</span> <span class="na">side</span><span class="p">:</span> <span class="nx">Side</span><span class="p">.</span><span class="nx">BUY</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">YES</span><span class="p">,</span> <span class="na">side</span><span class="p">:</span> <span class="nx">Side</span><span class="p">.</span><span class="nx">SELL</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">NO</span><span class="p">,</span> <span class="na">side</span><span class="p">:</span> <span class="nx">Side</span><span class="p">.</span><span class="nx">BUY</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">NO</span><span class="p">,</span> <span class="na">side</span><span class="p">:</span> <span class="nx">Side</span><span class="p">.</span><span class="nx">SELL</span> <span class="p">},</span>
  <span class="p">]</span> <span class="k">as</span> <span class="nx">BookParams</span><span class="p">[]);</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_prices</span><span class="p">(</span>
    <span class="n">params</span><span class="o">=</span><span class="p">[</span>
        <span class="n">BookParams</span><span class="p">(</span>
            <span class="n">token_id</span><span class="o">=</span><span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span><span class="p">,</span>
            <span class="n">side</span><span class="o">=</span><span class="s">"BUY"</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">BookParams</span><span class="p">(</span>
            <span class="n">token_id</span><span class="o">=</span><span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span><span class="p">,</span>
            <span class="n">side</span><span class="o">=</span><span class="s">"SELL"</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">BookParams</span><span class="p">(</span>
            <span class="n">token_id</span><span class="o">=</span><span class="s">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span><span class="p">,</span>
            <span class="n">side</span><span class="o">=</span><span class="s">"BUY"</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">BookParams</span><span class="p">(</span>
            <span class="n">token_id</span><span class="o">=</span><span class="s">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span><span class="p">,</span>
            <span class="n">side</span><span class="o">=</span><span class="s">"SELL"</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div><h4 id='request-payload-parameters-6'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">params</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">BookParams</td>
<td style="text-align: left">search params for books</td>
</tr>
</tbody></table>

<p>A <code>BookParams</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">token ID of market to get book for</td>
</tr>
<tr>
<td style="text-align: center">side</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">BUY or SELL</td>
</tr>
</tbody></table>
<h4 id='response-2'>Response</h4>
<p><code>{[asset_id]: {[side]: price}}</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BUY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.49"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SELL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BUY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SELL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.51"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-midpoint'>Get Midpoint</h3>
<p>Get the midpoint price for a market (halfway between best bid or best ask).</p>
<h4 id='http-request-24'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/midpoint</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">resp</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getMidpoint</span><span class="p">(</span>
    <span class="p">(</span><span class="nx">tokenID</span> <span class="o">=</span>
      <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">)</span>
  <span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_midpoint</span><span class="p">(</span>
    <span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Done!"</span><span class="p">)</span>
</code></pre></div><h4 id='request-payload-parameters-7'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">token ID market to get price for</td>
</tr>
</tbody></table>
<h4 id='response-3'>Response</h4>
<p><code>{&#39;mid&#39;: &#39;0.55&#39;}</code></p>
<h3 id='get-midpoints'>Get Midpoints</h3>
<p>Get the midpoint prices for a set of market (halfway between best bid or best ask).</p>
<h4 id='http-request-25'>HTTP Request</h4>
<p><code>POST {clob-endpoint}/midpoints</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">YES</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">NO</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">52114319501245915516055106046884209969926127482827954674443846427813813222426</span><span class="dl">"</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">midpoints</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getMidpoints</span><span class="p">([</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">YES</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">NO</span> <span class="p">},</span>
  <span class="p">]</span> <span class="k">as</span> <span class="nx">BookParams</span><span class="p">[]);</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_midpoints</span><span class="p">(</span>
    <span class="n">params</span><span class="o">=</span><span class="p">[</span>
        <span class="n">BookParams</span><span class="p">(</span>
            <span class="n">token_id</span><span class="o">=</span><span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span>
        <span class="p">),</span>
        <span class="n">BookParams</span><span class="p">(</span>
            <span class="n">token_id</span><span class="o">=</span><span class="s">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span>
        <span class="p">),</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div><h4 id='request-payload-parameters-8'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">params</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">BookParams</td>
<td style="text-align: left">search params for books</td>
</tr>
</tbody></table>

<p>A <code>BookParams</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">token ID of market to get book for</td>
</tr>
</tbody></table>
<h4 id='response-4'>Response</h4>
<p><code>{[asset_id]: mid price</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.495"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.505"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-spread'>Get spread</h3>
<p>Get the spreads for a market.</p>
<h4 id='http-request-26'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/spread</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">YES_TOKEN_ID</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">NO_TOKEN_ID</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">52114319501245915516055106046884209969926127482827954674443846427813813222426</span><span class="dl">"</span><span class="p">;</span>

  <span class="nx">clobClient</span>
    <span class="p">.</span><span class="nx">getSpread</span><span class="p">(</span><span class="nx">YES_TOKEN_ID</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">spread</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">YES</span><span class="dl">"</span><span class="p">,</span> <span class="nx">spread</span><span class="p">));</span>
  <span class="nx">clobClient</span>
    <span class="p">.</span><span class="nx">getSpread</span><span class="p">(</span><span class="nx">NO_TOKEN_ID</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">spread</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">NO</span><span class="dl">"</span><span class="p">,</span> <span class="nx">spread</span><span class="p">));</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="k">print</span><span class="p">(</span>
    <span class="n">client</span><span class="p">.</span><span class="n">get_spread</span><span class="p">(</span>
        <span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div><h4 id='request-payload-parameters-9'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">token ID to get the spread for</td>
</tr>
</tbody></table>
<h4 id='response-5'>Response</h4>
<p><code>{&quot;spread&quot;: &quot;.513&quot;}</code></p>
<h3 id='get-spreads'>Get spreads</h3>
<p>Get the spreads for a set of markets.</p>
<h4 id='http-request-27'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/spread</code></p>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">YES</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">71321045679252212594626385532706912750332728571942532289631379312455583992563</span><span class="dl">"</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">NO</span> <span class="o">=</span>
    <span class="dl">"</span><span class="s2">52114319501245915516055106046884209969926127482827954674443846427813813222426</span><span class="dl">"</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">spreads</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clobClient</span><span class="p">.</span><span class="nx">getSpreads</span><span class="p">([</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">YES</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">token_id</span><span class="p">:</span> <span class="nx">NO</span> <span class="p">},</span>
  <span class="p">]</span> <span class="k">as</span> <span class="nx">BookParams</span><span class="p">[]);</span>
<span class="p">}</span>
<span class="nx">main</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_spreads</span><span class="p">(</span>
    <span class="n">params</span><span class="o">=</span><span class="p">[</span>
        <span class="n">BookParams</span><span class="p">(</span>
            <span class="n">token_id</span><span class="o">=</span><span class="s">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span>
        <span class="p">),</span>
        <span class="n">BookParams</span><span class="p">(</span>
            <span class="n">token_id</span><span class="o">=</span><span class="s">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span>
        <span class="p">),</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
</code></pre></div><h4 id='request-payload-parameters-10'>Request Payload Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">params</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">BookParams</td>
<td style="text-align: left">search params for books</td>
</tr>
</tbody></table>

<p>A <code>BookParams</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Required</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">token_id</td>
<td style="text-align: center">yes</td>
<td style="text-align: center">string</td>
<td style="text-align: left">token ID of market to get book for</td>
</tr>
</tbody></table>
<h4 id='response-6'>Response</h4>
<p><code>{[asset_id]: spread</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"71321045679252212594626385532706912750332728571942532289631379312455583992563"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='websocket-api'>Websocket API</h2><h3 id='overview-4'>Overview</h3>
<p>The XFT CLOP API provides websocket (wss) channels through which clients can get pushed updates. These endpoints allow clients to maintain almost real-time views of their orders, their trades and markets in general. There are two available channels <code>user</code> and <code>market</code>.</p>
<h3 id='subscription'>Subscription</h3>
<p>To subscribe send a message including the following authenticating and intent information upon opening the connection.</p>

<table><thead>
<tr>
<th style="text-align: center">Field</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">auth</td>
<td style="text-align: center">Auth</td>
<td style="text-align: left">see <a href="#wss-authentication">WSS Authentication</a></td>
</tr>
<tr>
<td style="text-align: center">markets</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">array of markets (condition IDs) to receive events for (for <code>user</code> channel)</td>
</tr>
<tr>
<td style="text-align: center">assets_ids</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">array of asset ids (token IDs) to receive events for (for <code>market</code> channel)</td>
</tr>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of channel to subscribe to (<strong>User</strong> or <strong>Market</strong>)</td>
</tr>
</tbody></table>

<p>where the <code>auth</code> field is of type <code>Auth</code> which has the form described in the WSS Authentication section below.</p>
<h3 id='wss-authentication'>WSS Authentication</h3>
<aside class="notice">
Only connections to `user` channel require authentication.
</aside>

<table><thead>
<tr>
<th style="text-align: center">Field</th>
<th style="text-align: center">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">apiKey</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">Polygon account&#39;s CLOB api key</td>
</tr>
<tr>
<td style="text-align: center">secret</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">Polygon account&#39;s CLOB api secret</td>
</tr>
<tr>
<td style="text-align: center">passphrase</td>
<td style="text-align: center">yes</td>
<td style="text-align: left">Polygon account&#39;s CLOB api passphrase</td>
</tr>
</tbody></table>
<h3 id='user-channel'>User Channel</h3>
<p>Authenticated channel for updates related to user activities (orders, trades), filtered for authenticated user (by apiKey).</p>

<p><code>SUBSCRIBE {wss-channel} user</code></p>
<h4 id='code-trade-code-message'><code>trade</code> Message</h4><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trade"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28c4d2eb-bbea-40e7-a9f0-b2fdb56b2c2e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672290701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"maker_orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"matched_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xff354cd7ca7539dfa9c28d90943ab5779a4eac34b9b37a757d7b32bdfb11790b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YES"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9180014b-33c8-9240-a14b-bdca11c0a465"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.57"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"matchtime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672290701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YES"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9180014b-33c8-9240-a14b-bdca11c0a465"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.57"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MATCHED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"taker_order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x06bc63e346ed4ceddce9efd6b3af37c8f8f440c92fe7da6b2d0f9e4ccbc50c42"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672290701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trade_owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9180014b-33c8-9240-a14b-bdca11c0a465"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRADE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Emitted when:</strong></p>

<ul>
<li>when a market order is matched (”MATCHED”)</li>
<li>when a limit order for a user is included in a trade (”MATCHED”)</li>
<li>subsequent status changes for trade (”MINED”, “CONFIRMED”, “RETRYING”, “FAILED”)</li>
</ul>

<p><strong>Structure:</strong></p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">asset id (token ID) of taker order (market order)</td>
</tr>
<tr>
<td style="text-align: center">event_type</td>
<td style="text-align: center">string</td>
<td style="text-align: left">&quot;trade&quot;</td>
</tr>
<tr>
<td style="text-align: center">id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">trade id</td>
</tr>
<tr>
<td style="text-align: center">last_update</td>
<td style="text-align: center">string</td>
<td style="text-align: left">time of last update to trade</td>
</tr>
<tr>
<td style="text-align: center">maker_orders</td>
<td style="text-align: center">MakerOrder[]</td>
<td style="text-align: left">array of maker order match details</td>
</tr>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">string</td>
<td style="text-align: left">market identifier (condition ID)</td>
</tr>
<tr>
<td style="text-align: center">matchtime</td>
<td style="text-align: center">string</td>
<td style="text-align: left">time trade was matched</td>
</tr>
<tr>
<td style="text-align: center">outcome</td>
<td style="text-align: center">string</td>
<td style="text-align: left">outcome</td>
</tr>
<tr>
<td style="text-align: center">owner</td>
<td style="text-align: center">string</td>
<td style="text-align: left">api key of event owner</td>
</tr>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: left">price</td>
</tr>
<tr>
<td style="text-align: center">side</td>
<td style="text-align: center">string</td>
<td style="text-align: left">BUY/SELL</td>
</tr>
<tr>
<td style="text-align: center">size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">size</td>
</tr>
<tr>
<td style="text-align: center">status</td>
<td style="text-align: center">string</td>
<td style="text-align: left">trade status</td>
</tr>
<tr>
<td style="text-align: center">taker_order_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">id of taker order</td>
</tr>
<tr>
<td style="text-align: center">time</td>
<td style="text-align: center">string</td>
<td style="text-align: left">time of event</td>
</tr>
<tr>
<td style="text-align: center">trade_owner</td>
<td style="text-align: center">string</td>
<td style="text-align: left">api key of trade owner</td>
</tr>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">string</td>
<td style="text-align: left">&quot;TRADE&quot;</td>
</tr>
</tbody></table>

<p>Where a <code>MakerOrder</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">asset id of the maker order</td>
</tr>
<tr>
<td style="text-align: center">matched_amount</td>
<td style="text-align: center">string</td>
<td style="text-align: left">amount of maker order matched in trade</td>
</tr>
<tr>
<td style="text-align: center">order_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">maker order ID</td>
</tr>
<tr>
<td style="text-align: center">outcome</td>
<td style="text-align: center">string</td>
<td style="text-align: left">outcome</td>
</tr>
<tr>
<td style="text-align: center">owner</td>
<td style="text-align: center">string</td>
<td style="text-align: left">owner of marker order</td>
</tr>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: left">price of maker order</td>
</tr>
</tbody></table>
<h4 id='code-order-code-message'><code>order</code> Message</h4><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52114319501245915516055106046884209969926127482827954674443846427813813222426"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"associate_trades"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xff354cd7ca7539dfa9c28d90943ab5779a4eac34b9b37a757d7b32bdfb11790b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order_owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9180014b-33c8-9240-a14b-bdca11c0a465"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"original_size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YES"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9180014b-33c8-9240-a14b-bdca11c0a465"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.57"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size_matched"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672290687"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PLACEMENT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Emitted when:</strong></p>

<ul>
<li>When an order is placed (PLACEMENT)</li>
<li>When an order is updated (some of it is matched) (UPDATE)</li>
<li>When an order is cancelled (CANCELLATION)</li>
</ul>

<p><strong>Structure:</strong></p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">asset ID (token ID) of order</td>
</tr>
<tr>
<td style="text-align: center">associate_trades</td>
<td style="text-align: center">string[]</td>
<td style="text-align: left">array of ids referencing trades that the order has been included in</td>
</tr>
<tr>
<td style="text-align: center">event_type</td>
<td style="text-align: center">string</td>
<td style="text-align: left">&quot;order&quot;</td>
</tr>
<tr>
<td style="text-align: center">id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">order id</td>
</tr>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">string</td>
<td style="text-align: left">condition ID of market</td>
</tr>
<tr>
<td style="text-align: center">order_owner</td>
<td style="text-align: center">string</td>
<td style="text-align: left">owner of order</td>
</tr>
<tr>
<td style="text-align: center">original_size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">original order size</td>
</tr>
<tr>
<td style="text-align: center">outcome</td>
<td style="text-align: center">string</td>
<td style="text-align: left">outcome string</td>
</tr>
<tr>
<td style="text-align: center">owner</td>
<td style="text-align: center">string</td>
<td style="text-align: left">owner of order</td>
</tr>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: left">price of order</td>
</tr>
<tr>
<td style="text-align: center">side</td>
<td style="text-align: center">string</td>
<td style="text-align: left">BUY/SELL</td>
</tr>
<tr>
<td style="text-align: center">size_matched</td>
<td style="text-align: center">string</td>
<td style="text-align: left">size of order that has been matched</td>
</tr>
<tr>
<td style="text-align: center">time</td>
<td style="text-align: center">string</td>
<td style="text-align: left">time of event</td>
</tr>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">string</td>
<td style="text-align: left">PLACEMENT/UPDATE/CANCELLATION</td>
</tr>
</tbody></table>
<h3 id='market-channel'>Market Channel</h3>
<p>Public channel for updates related to market updates (level 2 price data).</p>

<p><code>SUBSCRIBE {wss-channel} market</code></p>
<h4 id='code-book-code-message'><code>book</code> Message</h4><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"book"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65818619657568813474341868652308942079804919287380422192892211131408793125422"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"buys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">".48"</span><span class="p">,</span><span class="w"> </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">".49"</span><span class="p">,</span><span class="w"> </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">".50"</span><span class="p">,</span><span class="w"> </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"sells"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">".52"</span><span class="p">,</span><span class="w"> </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">".53"</span><span class="p">,</span><span class="w"> </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">".54"</span><span class="p">,</span><span class="w"> </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Emitted When:</strong></p>

<ul>
<li>First subscribed to <code>market/</code></li>
<li>When there is a trade that affects the book</li>
</ul>

<p><strong>Structure:</strong></p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">event_type</td>
<td style="text-align: center">string</td>
<td style="text-align: left">&quot;book&quot;</td>
</tr>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">asset ID (token ID)</td>
</tr>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">string</td>
<td style="text-align: left">condition ID of market</td>
</tr>
<tr>
<td style="text-align: center">buys</td>
<td style="text-align: center">OrderSummary[]</td>
<td style="text-align: left">list of type {size, price} aggregate book levels for buys</td>
</tr>
<tr>
<td style="text-align: center">sells</td>
<td style="text-align: center">OrderSummary[]</td>
<td style="text-align: left">list of type {size, price} aggregate book levels for sells</td>
</tr>
</tbody></table>

<p>Where a <code>OrderSummary</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: left">size available at that price level</td>
</tr>
<tr>
<td style="text-align: center">size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">price of the orderbook level</td>
</tr>
</tbody></table>
<h4 id='code-price_change-code-message'><code>price_change</code> Message</h4><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="nl">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"price_change"</span><span class="p">,</span><span class="w">
</span><span class="nl">"asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65818619657568813474341868652308942079804919287380422192892211131408793125422"</span><span class="p">,</span><span class="err">\</span><span class="w">
</span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xbd31dc8a20211944f6b70f31557f1001557b59905b7738480ca09bd4532f84af"</span><span class="p">,</span><span class="w">
</span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.51"</span><span class="p">,</span><span class="w">
</span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.0"</span><span class="p">,</span><span class="w">
</span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
</span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1666716712"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Emitted When:</strong></p>

<ul>
<li>A new order is placed</li>
<li>An order is cancelled</li>
</ul>

<p><strong>Structure:</strong></p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">event_type</td>
<td style="text-align: center">string</td>
<td style="text-align: left">&quot;price_change&quot;</td>
</tr>
<tr>
<td style="text-align: center">asset_id</td>
<td style="text-align: center">string</td>
<td style="text-align: left">asset ID (token ID)</td>
</tr>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">string</td>
<td style="text-align: left">condition ID of market</td>
</tr>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">string</td>
<td style="text-align: left">price level affected</td>
</tr>
<tr>
<td style="text-align: center">size</td>
<td style="text-align: center">string</td>
<td style="text-align: left">new aggregate size for price level</td>
</tr>
<tr>
<td style="text-align: center">side</td>
<td style="text-align: center">string</td>
<td style="text-align: left">buy/sell</td>
</tr>
<tr>
<td style="text-align: center">time</td>
<td style="text-align: center">string</td>
<td style="text-align: left">time of event</td>
</tr>
</tbody></table>
<h2 id='timeseries-data'>Timeseries Data</h2>
<p>The CLOB provides detailed price history data for each traded token.</p>
<h4 id='http-request-28'>HTTP Request</h4>
<p><code>GET {clob-endpoint}/prices-history</code></p>
<h4 id='query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">market</td>
<td style="text-align: center">number</td>
<td style="text-align: center">the CLOB token id for which to fetch price history</td>
</tr>
<tr>
<td style="text-align: center">startTs</td>
<td style="text-align: center">number</td>
<td style="text-align: center">the start time, a unix timestamp in UTC</td>
</tr>
<tr>
<td style="text-align: center">endTs</td>
<td style="text-align: center">number</td>
<td style="text-align: center">the end time, a unix timestamp in UTC</td>
</tr>
<tr>
<td style="text-align: center">interval</td>
<td style="text-align: center">string</td>
<td style="text-align: center">a string representing a duration ending at the current time</td>
</tr>
<tr>
<td style="text-align: center">fidelity</td>
<td style="text-align: center">number</td>
<td style="text-align: center">the resolution of the data, in minutes</td>
</tr>
</tbody></table>

<p>The query parameters <code>startTs/endTs</code> are mutually exclusive to <code>interval</code>. The options for <code>interval</code> are:</p>

<ul>
<li><code>1m</code>: 1 month</li>
<li><code>1w</code>: 1 week</li>
<li><code>1d</code>: 1 day</li>
<li><code>6h</code>: 6 hours</li>
<li><code>1h</code>: 1 hour</li>
<li><code>max</code>: max range</li>
</ul>
<h4 id='example-response-format'>Example Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">history</td>
<td style="text-align: center">TimeseriesPoint[]</td>
<td style="text-align: center">list of timestamp/price pairs</td>
</tr>
</tbody></table>

<p>A <code>TimeseriesPoint</code> object is of the form:</p>

<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">t</td>
<td style="text-align: center">number</td>
<td style="text-align: center">utc timestamp</td>
</tr>
<tr>
<td style="text-align: center">p</td>
<td style="text-align: center">number</td>
<td style="text-align: center">price</td>
</tr>
</tbody></table>
<h1 id='gamma-markets-api'>Gamma Markets API</h1><h2 id='overview-5'>Overview</h2>
<p>All market data necessary for market resolution is available on-chain (ie <code>ancillaryData</code> in UMA OO request) but XFT also provides a hosted service, Gamma, that indexes this data and provides additional market metadata (ie categorization, indexed volume, etc). This service is made available through a REST API. For public users, this resource is read only and can be used to fetch useful information about markets for things like non-profit research projects, alternative trading interfaces, automated trading systems etc.</p>
<h2 id='endpoint'>Endpoint</h2>
<p><a href="https://gamma-api.XFT.com"><code>https://gamma-api.XFT.com</code></a></p>
<h2 id='market-organization'>Market Organization</h2>
<p>Gamma provides some organizational models. These include <strong>events</strong>, and <strong>markets</strong>. The most fundamental element is always <strong>markets</strong> and the other models simply provide additional organization.</p>
<h3 id='detail'>Detail</h3>
<ol>
<li>Market

<ol>
<li>Contains data related to a market that is traded on. Maps onto a pair of clob token ids, a market maker address, a question id and a condition id</li>
</ol></li>
<li>Event

<ol>
<li>Contains a set of <em>markets</em></li>
<li>Variants:

<ol>
<li>Event with 1 <em>market</em> (i.e. resulting in an SMP)</li>
<li>Event with 2 or more <em>markets</em> (i.e. resulting in an GMP)</li>
</ol></li>
</ol></li>
</ol>
<h3 id='example'>Example</h3>
<ul>
<li>[<em>Event</em>] Where will Barron Trump attend College?

<ul>
<li>[<em>Market</em>] Will Barron attend Georgetown?</li>
<li>[<em>Market</em>] Will Barron attend NYU?</li>
<li>[<em>Market</em>] Will Barron attend UPenn?</li>
<li>[<em>Market</em>] Will Barron attend Harvard?</li>
<li>[<em>Market</em>] Will Barron attend another college?</li>
</ul></li>
</ul>
<h2 id='markets-2'>Markets</h2>
<p>Get markets.</p>

<p><em>Note: Markets can be traded via the CLOB if <code>enableOrderBook</code> is <code>true</code>.</em></p>
<h4 id='http-request-29'>HTTP Request</h4>
<p><code>GET {gamma-endpoint}/markets</code></p>
<h4 id='query-parameters-2'>Query Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">limit</td>
<td style="text-align: center">number</td>
<td style="text-align: center">limit query results</td>
</tr>
<tr>
<td style="text-align: center">offset</td>
<td style="text-align: center">number</td>
<td style="text-align: center">pagination offset</td>
</tr>
<tr>
<td style="text-align: center">order</td>
<td style="text-align: center">string</td>
<td style="text-align: center">key to sort by</td>
</tr>
<tr>
<td style="text-align: center">ascending</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">sort direction, defaults to true, requires the <code>order</code> parameter</td>
</tr>
<tr>
<td style="text-align: center">id</td>
<td style="text-align: center">number</td>
<td style="text-align: center">id of a single market to query, can be used multiple times to fetch multiple markets</td>
</tr>
<tr>
<td style="text-align: center">slug</td>
<td style="text-align: center">string</td>
<td style="text-align: center">slug of a single event to query, can be used multiple times to fetch multiple markets</td>
</tr>
<tr>
<td style="text-align: center">archived</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">filter by archived status</td>
</tr>
<tr>
<td style="text-align: center">active</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">filter by active status</td>
</tr>
<tr>
<td style="text-align: center">closed</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">filter by closed status</td>
</tr>
<tr>
<td style="text-align: center">clob_token_ids</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by clob token id, can be used multiple times</td>
</tr>
<tr>
<td style="text-align: center">condition_ids</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by condition id, can be used multiple times</td>
</tr>
<tr>
<td style="text-align: center">liquidity_num_min</td>
<td style="text-align: center">decimal</td>
<td style="text-align: center">filter by minimum liquidity</td>
</tr>
<tr>
<td style="text-align: center">liquidity_num_max</td>
<td style="text-align: center">decimal</td>
<td style="text-align: center">filter by maximum liquidity</td>
</tr>
<tr>
<td style="text-align: center">volume_num_min</td>
<td style="text-align: center">decimal</td>
<td style="text-align: center">filter by minimum volume</td>
</tr>
<tr>
<td style="text-align: center">volume_num_max</td>
<td style="text-align: center">decimal</td>
<td style="text-align: center">filter by maximum volume</td>
</tr>
<tr>
<td style="text-align: center">start_date_min</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by minimum start date</td>
</tr>
<tr>
<td style="text-align: center">start_date_max</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by maximum start date</td>
</tr>
<tr>
<td style="text-align: center">end_date_min</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by minimum end date</td>
</tr>
<tr>
<td style="text-align: center">end_date_max</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by maximum end date</td>
</tr>
<tr>
<td style="text-align: center">tag_id</td>
<td style="text-align: center">number</td>
<td style="text-align: center">filter by tag id</td>
</tr>
<tr>
<td style="text-align: center">related_tags</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">include events with related tags, requires the <code>tag_id</code> parameter</td>
</tr>
</tbody></table>
<h4 id='example-queries'>Example Queries</h4><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">/markets</span><span class="w">
</span><span class="err">/markets?offset=</span><span class="mi">1</span><span class="w">
</span><span class="err">/markets?limit=</span><span class="mi">100</span><span class="w">
</span><span class="err">/markets?order=slug</span><span class="w">
</span><span class="err">/markets?order=slug&amp;ascending=</span><span class="kc">false</span><span class="w">
</span><span class="err">/markets?id=</span><span class="mi">1</span><span class="w">
</span><span class="err">/markets?id=</span><span class="mi">1</span><span class="err">&amp;id=</span><span class="mi">2</span><span class="w">
</span><span class="err">/markets?slug=market-slug</span><span class="w">
</span><span class="err">/markets?slug=market-slug&amp;slug=slug</span><span class="w">
</span><span class="err">/markets?archived=</span><span class="kc">true</span><span class="w">
</span><span class="err">/markets?closed=</span><span class="kc">true</span><span class="w">
</span><span class="err">/markets?active=</span><span class="kc">true</span><span class="w">
</span><span class="err">/markets?clob_token_ids=</span><span class="mi">1</span><span class="w">
</span><span class="err">/markets?clob_token_ids=</span><span class="mi">1</span><span class="err">&amp;clob_token_ids=</span><span class="mi">2</span><span class="w">
</span><span class="err">/markets?condition_ids=</span><span class="mi">1</span><span class="w">
</span><span class="err">/markets?condition_ids=</span><span class="mi">1</span><span class="err">&amp;condition_ids=</span><span class="mi">2</span><span class="w">
</span><span class="err">/markets?liquidity_num_min=</span><span class="mf">1.0</span><span class="w">
</span><span class="err">/markets?liquidity_num_max=</span><span class="mf">2.0</span><span class="w">
</span><span class="err">/markets?volume_num_min=</span><span class="mf">1.0</span><span class="w">
</span><span class="err">/markets?volume_num_max=</span><span class="mf">2.0</span><span class="w">
</span><span class="err">/markets?start_date_min=</span><span class="mi">2022-04-01</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="w">
</span><span class="err">/markets?start_date_max=</span><span class="mi">2022-04-01</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="w">
</span><span class="err">/markets?end_date_min=</span><span class="mi">2022-04-01</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="w">
</span><span class="err">/markets?end_date_max=</span><span class="mi">2022-04-01</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="w">
</span><span class="err">/markets?tag_id=</span><span class="mi">1</span><span class="err">&amp;related_tags=</span><span class="kc">true</span><span class="w">
</span></code></pre></div><h4 id='example-response-format-2'>Example Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">markets</td>
<td style="text-align: center">Market[]</td>
<td style="text-align: left">list of markets</td>
</tr>
</tbody></table>
<h2 id='single-market'>Single Market</h2>
<p>Get a single event by id.</p>
<h4 id='http-request-30'>HTTP Request</h4>
<p><code>GET {gamma-endpoint}/markets/{id}</code></p>
<h4 id='example-query'>Example Query</h4><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">/markets/</span><span class="mi">501011</span><span class="w">
</span></code></pre></div><h2 id='events'>Events</h2>
<p>Get events.</p>
<h4 id='http-request-31'>HTTP Request</h4>
<p><code>GET {gamma-endpoint}/events</code></p>
<h4 id='query-parameters-3'>Query Parameters</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: center">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">limit</td>
<td style="text-align: center">number</td>
<td style="text-align: center">limit query results</td>
</tr>
<tr>
<td style="text-align: center">offset</td>
<td style="text-align: center">number</td>
<td style="text-align: center">pagination offset</td>
</tr>
<tr>
<td style="text-align: center">order</td>
<td style="text-align: center">string</td>
<td style="text-align: center">key to sort by</td>
</tr>
<tr>
<td style="text-align: center">ascending</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">sort direction, defaults to true, requires the <code>order</code> parameter</td>
</tr>
<tr>
<td style="text-align: center">id</td>
<td style="text-align: center">number</td>
<td style="text-align: center">id of a single event to query, can be used multiple times to fetch multiple events</td>
</tr>
<tr>
<td style="text-align: center">slug</td>
<td style="text-align: center">string</td>
<td style="text-align: center">slug of a single event to query, can be used multiple times to fetch multiple events</td>
</tr>
<tr>
<td style="text-align: center">archived</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">filter by archived status</td>
</tr>
<tr>
<td style="text-align: center">active</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">filter by active status</td>
</tr>
<tr>
<td style="text-align: center">closed</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">filter by closed status</td>
</tr>
<tr>
<td style="text-align: center">liquidity_min</td>
<td style="text-align: center">decimal</td>
<td style="text-align: center">filter by minimum liquidity</td>
</tr>
<tr>
<td style="text-align: center">liquidity_max</td>
<td style="text-align: center">decimal</td>
<td style="text-align: center">filter by maximum liquidity</td>
</tr>
<tr>
<td style="text-align: center">volume_min</td>
<td style="text-align: center">decimal</td>
<td style="text-align: center">filter by minimum volume</td>
</tr>
<tr>
<td style="text-align: center">volume_max</td>
<td style="text-align: center">decimal</td>
<td style="text-align: center">filter by maximum volume</td>
</tr>
<tr>
<td style="text-align: center">start_date_min</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by minimum start date</td>
</tr>
<tr>
<td style="text-align: center">start_date_max</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by maximum start date</td>
</tr>
<tr>
<td style="text-align: center">end_date_min</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by minimum end date</td>
</tr>
<tr>
<td style="text-align: center">end_date_max</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by maximum end date</td>
</tr>
<tr>
<td style="text-align: center">tag</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by tag labels</td>
</tr>
<tr>
<td style="text-align: center">tag_id</td>
<td style="text-align: center">number</td>
<td style="text-align: center">filter by tag id</td>
</tr>
<tr>
<td style="text-align: center">related_tags</td>
<td style="text-align: center">boolean</td>
<td style="text-align: center">include events with related tags, requires the <code>tag_id</code> parameter</td>
</tr>
<tr>
<td style="text-align: center">tag_slug</td>
<td style="text-align: center">string</td>
<td style="text-align: center">filter by tag slug</td>
</tr>
</tbody></table>

<aside class="notice">
The tags filters are mutually exclusive with priority `tag` > `tag_id` > `tag_slug`.
</aside>
<h4 id='example-queries-2'>Example Queries</h4><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">/events</span><span class="w">
</span><span class="err">/events?offset=</span><span class="mi">1</span><span class="w">
</span><span class="err">/events?limit=</span><span class="mi">100</span><span class="w">
</span><span class="err">/events?order=slug</span><span class="w">
</span><span class="err">/events?order=slug&amp;ascending=</span><span class="kc">false</span><span class="w">
</span><span class="err">/events?id=</span><span class="mi">1</span><span class="w">
</span><span class="err">/events?id=</span><span class="mi">1</span><span class="err">&amp;id=</span><span class="mi">2</span><span class="w">
</span><span class="err">/events?slug=market-slug</span><span class="w">
</span><span class="err">/events?slug=market-slug&amp;slug=slug</span><span class="w">
</span><span class="err">/events?archived=</span><span class="kc">true</span><span class="w">
</span><span class="err">/events?closed=</span><span class="kc">true</span><span class="w">
</span><span class="err">/events?active=</span><span class="kc">true</span><span class="w">
</span><span class="err">/events?clob_token_ids=tokenid</span><span class="w">
</span><span class="err">/events?condition_ids=condition</span><span class="w">
</span><span class="err">/events?liquidity_min=</span><span class="mf">1.0</span><span class="w">
</span><span class="err">/events?liquidity_max=</span><span class="mf">2.0</span><span class="w">
</span><span class="err">/events?volume_min=</span><span class="mf">1.0</span><span class="w">
</span><span class="err">/events?volume_max=</span><span class="mf">2.0</span><span class="w">
</span><span class="err">/events?start_date_min=</span><span class="mi">2022-04-01</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="w">
</span><span class="err">/events?start_date_max=</span><span class="mi">2022-04-01</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="w">
</span><span class="err">/events?end_date_min=</span><span class="mi">2022-04-01</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="w">
</span><span class="err">/events?end_date_max=</span><span class="mi">2022-04-01</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="w">
</span><span class="err">/events?tag=music</span><span class="w">
</span><span class="err">/events?tag_id=</span><span class="mi">1</span><span class="w">
</span><span class="err">/events?tag_id=</span><span class="mi">1</span><span class="err">&amp;related_tags=</span><span class="kc">true</span><span class="w">
</span></code></pre></div><h4 id='example-response-format-3'>Example Response Format</h4>
<table><thead>
<tr>
<th style="text-align: center">Name</th>
<th style="text-align: center">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">events</td>
<td style="text-align: center">Event[]</td>
<td style="text-align: left">list of events</td>
</tr>
</tbody></table>
<h2 id='single-event'>Single Event</h2>
<p>Get a single event by id.</p>
<h4 id='http-request-32'>HTTP Request</h4>
<p><code>GET {gamma-endpoint}/events/{id}</code></p>
<h4 id='example-query-2'>Example Query</h4><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">/events/</span><span class="mi">901289</span><span class="w">
</span></code></pre></div><h1 id='subgraph'>Subgraph</h1><h2 id='overview-6'>Overview</h2>
<p>XFT has written and open sourced a subgraph that provides, via a GraphQL query interface, useful aggregate calculations and event indexing for things like trade, volume, user position, market and liquidity data. The subgraph updates in real time as blocks are mined, and is reorg-aware. The subgraph underlies the primary XFT.com interface, providing positional data, activity history and more. The subgraph can be hosted by anyone but is also hosted and made publicly available by a 3rd party provider, <a href="https://goldsky.com/">Goldsky</a>.  </p>
<h2 id='source'>Source</h2>
<p>The Polymaket subgraph is entirely open source and can be found on the XFT Github.</p>

<p><a href="https://github.com/XFT/XFT-subgraph"><strong><code>XFT/XFT-subgraph</code></strong></a></p>

<p><em>Note: The available models/schemas can be found in the <a href="https://github.com/XFT/XFT-subgraph/blob/master/schema.graphql"><code>schema.graphql</code></a> file.</em></p>
<h2 id='hosted-version'>Hosted Version</h2>
<p>The hosted version and accompany GraphQL playground can be found <a href="https://api.goldsky.com/api/public/project_cl6mb8i9h0003e201j6li0diw/subgraphs/XFT-orderbook-resync/prod/gn">here</a></p>
<h1 id='resolution'>Resolution</h1>
<p>All market resolution is completely decentralized. A majority of markets on XFT are resolved via UMA&#39;s optimistic oracle, the rest (some price markets) are resoled via Pyth.</p>
<h2 id='uma'>UMA</h2><h3 id='overview-7'>Overview</h3>
<p>XFT leverages UMA&#39;s Optimistic Oracle (OO) to resolve arbitrary questions, permissionlessly. From <a href="https://docs.uma.xyz/protocol-overview/how-does-umas-oracle-work">UMA&#39;s docs</a>:</p>

<p><em>&quot;UMA&#39;s Optimistic Oracle allows contracts to quickly request and receive data information. The Optimistic Oracle acts as a generalized escalation game between contracts that initiate a price request and UMA&#39;s dispute resolution system known as the Data Verification Mechanism (DVM). Prices proposed by the Optimistic Oracle will not be sent to the DVM unless it is disputed.
If a dispute is raised, a request is sent to the DVM. All contracts built on UMA use the DVM as a backstop to resolve disputes. Disputes sent to the DVM will be resolved within a few days - after UMA tokenholders vote on what the correct outcome should have been.&quot;</em></p>

<p>To allow CTF markets to be resolved via the OO, XFT developed a custom adapter contract called <code>UmaCtfAdapter</code> that provides a way for the two contract systems to interface. </p>
<h4 id='clarifications'>Clarifications</h4>
<p>Recent versions (v2+) of the <code>UmaCtfAdapter</code> also include a bulletin board feature that allows market creators to issue &quot;clarifications&quot;. Questions that allow updates will include the sentence in their ancillary data:</p>

<p><em>&quot;Updates made by the question creator via the bulletin board at 0x6A9D222616C90FcA5754cd1333cFD9b7fb6a4F74 as described by https://polygonscan.com/tx/0xa14f01b115c4913624fc3f508f960f4dea252758e73c28f5f07f8e19d7bca066 should be considered”</em></p>

<p>Where the <a href="https://polygonscan.com/tx/0xa14f01b115c4913624fc3f508f960f4dea252758e73c28f5f07f8e19d7bca066">transaction</a> referenced includes a message outlining what should and shouldn&#39;t be considered. In summary, only clarifications that do not impact the question&#39;s intent should be considered. </p>
<h3 id='resolution-process'>Resolution Process</h3><h4 id='actions'>Actions:</h4>
<ul>
<li><strong>Initialize</strong> - Binary CTF markets are initialized via the <code>UmaCtfAdapter</code>&#39;s <code>initialize()</code> function. This stores the question parameters on the contract, prepares the question on the CTF and requests a price for a question from the OO. It returns a CTF <code>questionID</code> that is also used as reference on the <code>UmaCtfAdapter</code>. The caller provides:

<ol>
<li><code>ancillaryData</code> - data used to resolve a question (ie the question + description)</li>
<li><code>rewardToken</code> - ERC20 token address used for payment of rewards and fees</li>
<li><code>reward</code> - Reward amount offered to a successful proposer. The caller must have set allowance so that the contract can pull this reward in. </li>
<li><code>proposalBond</code> - Bond required to be posted by OO proposers/disputers. If 0, the default OO bond is used.</li>
<li><code>liveness</code> - UMA liveness period in seconds. If 0, the default liveness period is used.</li>
</ol></li>
<li><strong>Propose Price</strong> - Anyone can then propose a price to the question on the OO. To do this they must post the <code>proposalBond</code>. The liveness period begins after a price is proposed. </li>
<li><strong>Dispute</strong> - Anyone that disagrees with the proposed price has the opportunity to dispute the price by posting a counter bond via the OO, this price proposal will now be escalated to the DVM for a voter-wide vote. </li>
</ul>
<h4 id='possible-flows'>Possible Flows:</h4>
<p>When the first proposed price is disputed for a <code>questionId</code> on the adapter, a callback is made that resets the <code>questionId</code>, making a new request to the OO (the reward is returned before the callback is made and posted as the reward for this new proposal). This means a second proposal is required for a <code>questionId</code> to resolve, and correspondingly a second dispute is required for it to go to the DVM. The thinking behind here is it doubles the cost of a potential griefing vector (two disputes are required versus just one) and also allows fat-fingered (incorrect) first price proposals to not delay resolution. As such we have the following possible resolution flows:</p>

<ul>
<li>Initialize (CTFAdaptor) -&gt; Propose (OO) -&gt; Resolve (CTFAdaptor)</li>
<li>Initialize (CTFAdaptor) -&gt; Propose (OO) -&gt; Challenge (OO) -&gt; Propose (OO) -&gt; Resolve (CTFAdaptor)</li>
<li>Initialize (CTFAdaptor) -&gt; Propose (OO) -&gt; Challenge (OO) -&gt; Propose (OO) -&gt; Challenge (CtfAdapter) -&gt; Resolve (CTFAdaptor)</li>
</ul>
<h3 id='deployed-addresses'>Deployed Addresses</h3><h4 id='v3-0-0'>v3.0.0</h4>
<table><thead>
<tr>
<th style="text-align: center">Network</th>
<th style="text-align: center">Address</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">Polygon Mainnet</td>
<td style="text-align: center"><a href="https://polygonscan.com/address/0x71392E133063CC0D16F40E1F9B60227404Bc03f7">0x71392E133063CC0D16F40E1F9B60227404Bc03f7</a></td>
</tr>
<tr>
<td style="text-align: center">Mumbai</td>
<td style="text-align: center"><a href="https://mumbai.polygonscan.com/address/0x71392E133063CC0D16F40E1F9B60227404Bc03f7">0x71392E133063CC0D16F40E1F9B60227404Bc03f7</a></td>
</tr>
</tbody></table>
<h4 id='v2-0-0'>v2.0.0</h4>
<table><thead>
<tr>
<th style="text-align: center">Network</th>
<th style="text-align: center">Address</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">Polygon Mainnet</td>
<td style="text-align: center"><a href="https://polygonscan.com/address/0x6A9D222616C90FcA5754cd1333cFD9b7fb6a4F74">0x6A9D222616C90FcA5754cd1333cFD9b7fb6a4F74</a></td>
</tr>
<tr>
<td style="text-align: center">Mumbai</td>
<td style="text-align: center"><a href="https://mumbai.polygonscan.com/address/0x6A9D222616C90FcA5754cd1333cFD9b7fb6a4F74">0x6A9D222616C90FcA5754cd1333cFD9b7fb6a4F74</a></td>
</tr>
</tbody></table>
<h4 id='v1-0-0'>v1.0.0</h4>
<table><thead>
<tr>
<th style="text-align: center">Network</th>
<th style="text-align: center">Address</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">Polygon Mainnet</td>
<td style="text-align: center"><a href="https://polygonscan.com/address/0xCB1822859cEF82Cd2Eb4E6276C7916e692995130">0xCB1822859cEF82Cd2Eb4E6276C7916e692995130</a></td>
</tr>
<tr>
<td style="text-align: center">Mumbai</td>
<td style="text-align: center"><a href="https://mumbai.polygonscan.com/address/0xCB1822859cEF82Cd2Eb4E6276C7916e692995130">0xCB1822859cEF82Cd2Eb4E6276C7916e692995130</a></td>
</tr>
</tbody></table>
<h3 id='additional-resources-2'>Additional Resources</h3>
<ul>
<li><a href="https://github.com/XFT/uma-ctf-adapter/tree/main/audit/XFT_UMA_Optimistic_Oracle_Adapter_Audit.pdf">Audit</a></li>
<li><a href="https://github.com/XFT/uma-ctf-adapter">Source Code</a></li>
<li><a href="https://docs.uma.xyz/">UMA Documentation</a></li>
<li><a href="https://oracle.uma.xyz/">UMA Oracle Portal</a></li>
</ul>
<h2 id='pyth'>Pyth</h2>
<p>Coming soon</p>
<h1 id='rewards'>Rewards</h1>
<p>XFT provides incentives aimed at catalyzing the supply and demand side of the marketplace. Specifically there is a public liquidity rewards program as well as one-ff public pnl/volume competitions.</p>
<h2 id='liquidity-rewards-program'>Liquidity Rewards Program</h2><h3 id='overview-8'>Overview</h3>
<p>By posting resting limit orders, liquidity providers (makers) are automatically eligible for XFT&#39;s incentive program. The overall goal of this program is to <strong>catalyze a healthy, liquid marketplace. We can further define this as creating incentives that:</strong></p>

<ul>
<li>Catalyze liquidity across all markets</li>
<li>Encourage liquidity throughout a market’s entire lifecycle</li>
<li>Motivate passive, balanced quoting tight to a market’s mid point</li>
<li>Encourages trading activity</li>
<li>Discourages blatantly exploitative behaviors</li>
</ul>

<p>This program is heavily inspired by dYdX&#39;s liquidity provider rewards which you can read more about <a href="https://docs.dydx.community/dydx-governance/rewards/liquidity-provider-rewards">here</a>. In fact, the incentive methodology is essentially a copy of dYdX’s successful methodology but with some adjustments including specific adaptations for binary contract markets with distinct books, no staking mechanic a slightly modified order utility-relative to depth function and reward amounts isolated per market. Rewards are distributed directly to maker&#39;s addresses daily at midnight UTC.</p>
<h3 id='methodology'>Methodology</h3>
<p>XFT liquidity providers will be rewarded based on a formula that rewards participation in markets (complementary consideration), boosts two-sided depth (single-sided orders still score), and spread (vs. mid-market, adjusted for the size cutoff*). Each market will configure a max spread and min size cutoff within which orders are considered. The amount of rewards earned is determined by the relative share of each participant’s $Q_{epoch}$ in each market multiplied by the rewards available for that market.</p>

<table><thead>
<tr>
<th style="text-align: center">Variable</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">$S$</td>
<td style="text-align: left">order position scoring function</td>
</tr>
<tr>
<td style="text-align: center">$v$</td>
<td style="text-align: left">max spread from midpoint (in cents)</td>
</tr>
<tr>
<td style="text-align: center">$s$</td>
<td style="text-align: left">spread from size-cutoff-adjusted midpoint</td>
</tr>
<tr>
<td style="text-align: center">$b$</td>
<td style="text-align: left">in-game multiplier</td>
</tr>
<tr>
<td style="text-align: center">$m$</td>
<td style="text-align: left">market</td>
</tr>
<tr>
<td style="text-align: center">$m&#39;$</td>
<td style="text-align: left">market complement (ie NO if $m$ = YES)</td>
</tr>
<tr>
<td style="text-align: center">$n$</td>
<td style="text-align: left">trader index</td>
</tr>
<tr>
<td style="text-align: center">$u$</td>
<td style="text-align: left">sample index</td>
</tr>
<tr>
<td style="text-align: center">$c$</td>
<td style="text-align: left">scaling factor (currently 3.0 on all markets)</td>
</tr>
<tr>
<td style="text-align: center">$Q_{one}$</td>
<td style="text-align: left">point total for book one for a sample</td>
</tr>
<tr>
<td style="text-align: center">$Q_{two}$</td>
<td style="text-align: left">point total for book two for a sample</td>
</tr>
<tr>
<td style="text-align: center">$Spread_{m_n}$</td>
<td style="text-align: left">distance from midpoint (bps or relative) for order $n$ in market $m$</td>
</tr>
<tr>
<td style="text-align: center">$BidSize$</td>
<td style="text-align: left">share-denominated quantity of bid</td>
</tr>
<tr>
<td style="text-align: center">$AskSize$</td>
<td style="text-align: left">share-denominated quantity of ask</td>
</tr>
</tbody></table>

<p><strong>Equation 1:</strong></p>

<p>$$S(v,s)= (\frac{v-s}{v})^2 \cdot b$$</p>

<p><strong>Equation 2:</strong></p>

<p>$$Q_{one}= S(v,Spread_{m_1}) \cdot BidSize_{m_1} + S(v,Spread_{m_2}) \cdot BidSize_{m_2} + \dots $$
$$ + S(v, Spread_{m^\prime_1}) \cdot AskSize_{m^\prime_1} + S(v, Spread_{m^\prime_2}) \cdot AskSize_{m^\prime_2}$$</p>

<p><strong>Equation 3:</strong></p>

<p>$$Q_{two}= S(v,Spread_{m_1}) \cdot AskSize_{m_1} + S(v,Spread_{m_2}) \cdot AskSize_{m_2} + \dots $$
$$ + S(v, Spread_{m^\prime_1}) \cdot BidSize_{m^\prime_1} + S(v, Spread_{m^\prime_2}) \cdot BidSize_{m^\prime_2}$$</p>

<p><strong>Equation 4:</strong></p>

<p><strong>Equation 4a:</strong></p>

<p>If midpoint is in range [0.10,0.90] allow single sided liq to score:</p>

<p>$$Q_{\min} = \max(\min({Q_{one}, Q_{two}}), \max(Q_{one}/c, Q_{two}/c))$$</p>

<p><strong>Equation 4b:</strong></p>

<p>If midpoint is in either range [0,0.10) or (.90,1.0] require liq to be double sided to score:</p>

<p>$$Q_{\min} = \min({Q_{one}, Q_{two}})$$</p>

<p><strong>Equation 5:</strong></p>

<p>$$Q_{normal} = \frac{Q_{min}}{\sum_{n=1}^{N}{(Q_{min})_n}}$$</p>

<p><strong>Equation 6:</strong></p>

<p>$$Q_{epoch} = \sum_{u=1}^{10,080}{(Q_{normal})_u}$$</p>

<p><strong>Equation 7:</strong></p>

<p>$$Q_{final}=\frac{Q_{epoch}}{\sum_{n=1}^{N}{(Q_{epoch})_n}}$$</p>

<table><thead>
<tr>
<th style="text-align: center">Equation</th>
<th style="text-align: left">Description/Explanation</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">1</td>
<td style="text-align: left">Quadratic scoring rule for an order based on position between the adjusted mid point and the maximum qualifying spread</td>
</tr>
<tr>
<td style="text-align: center">2</td>
<td style="text-align: left">Calculates first market side score. Assume a trader has the following open orders:<br><br> - 100q bid on m @0.49 (adjusted midpoint is 0.50 then spread of this order is .01 or 1c)<br> - 200q bid on m @0.48<br> - 100q ask on m’ @0.51<br><br> and assume an adjusted market midpoint of 0.50 and maxSpread config of 3c for both m and m’. Then the trader’s score is:<br> $Q_{one}$ = ((3-1)/3)^2 _ 100 + ((3-2)/3)^2 _ 200 + ((3-1)/3)^2 * 100<br><br> $Q_{one}$ is calculated every minute using random sampling</td>
</tr>
<tr>
<td style="text-align: center">3</td>
<td style="text-align: left">Calculates second market side score. Assume a trader has the following open orders:<br><br> - 100q bid on m @0.485<br> - 100q bid on m’ @0.48<br> - 200q ask on m’ @0.505<br><br> and assume an adjusted market midpoint of 0.50 and maxSpread config of 3c for both m and m’. Then the trader’s score is:<br><br> $Q_{two}$ = ((3-1.5)/3)^2 _ 100 + ((3-2)/3)^2 _ 100 + ((3-.5)/3)^2 * 200<br><br> $Q_{two}$ is calculated every minute using random sampling</td>
</tr>
<tr>
<td style="text-align: center">4</td>
<td style="text-align: left">Boosts 2-sided liquidity by taking the minimum of $Q_{one}$ and $Q_{two}$ and rewards 1-side liquidity at a reduced rate (divided by $c$)<br> Calculated every minute</td>
</tr>
<tr>
<td style="text-align: center">5</td>
<td style="text-align: left">$Q_{normal}$ is the $Q_{min}$ of a market maker divided by the sum of all the $Q_{min}$ of other market markers in a given sample</td>
</tr>
<tr>
<td style="text-align: center">6</td>
<td style="text-align: left">$Q_{epoch}$ is the sum of all $Q_{normal}$ for a trader in a given epoch</td>
</tr>
<tr>
<td style="text-align: center">7</td>
<td style="text-align: left">$Q_{final}​$ normalizes $Q_{epoch}​$ by dividing it by the sum of all other market maker&#39;s $Q_{epoch}​$ in a given epoch this value is multiplied by the rewards available for the market to get a trader&#39;s reward</td>
</tr>
</tbody></table>

<p>* The adjusted midpoint is a size-cutoff adjusted interpretation of a traditional midpoint ((<code>best_bid</code>+<code>best_ask</code>)/2) which is calculated using the equation (<code>best_bid_min_shares_adjusted</code> + <code>best_ask_min_shares_adjusted</code>)/2 where the <code>best_bid_min_shares_adjusted</code> is the price level at which the cumulative size of open bids, at or better than that level is greater than or equal to the min shares requirement and the <code>best_ask_min_shares_adjusted</code> is the price level at which the cumulative size of open asks, at or better than that level is greater than or equal to the min shares requirement.</p>
<h3 id='market-configurations'>Market Configurations</h3>
<p>Both <code>min_incentive_size</code> and <code>max_incentive_spread</code> can be fetched alongside full market objects cia both the <a href="#clob-api">CLOB API</a> and <a href="#gamma-markets-api">Markets API</a>. Reward allocations for an epoch can be fetched via the <a href="#gamma-markets-api">Markets API</a>.</p>
<h2 id='leaderboard-competitions'>Leaderboard Competitions</h2>
<p>coming soon</p>
<h1 id='conditional-tokens-framework'>Conditional Tokens Framework</h1><h2 id='overview-9'>Overview</h2>
<p>All outcomes on XFT are tokenized on the Polygon network. Specifically, XFT outcome shares are binary outcomes (ie “YES” and “NO”) represented using <a href="https://github.com/gnosis/conditional-tokens-contracts">Gnosis’ Conditional Token Framework (CTF)</a>. They are distinct ERC1155 tokens related to a parent condition and backed by some collateral. More technically, the binary outcome tokens are referred to as “positionIds” in <a href="https://docs.gnosis.io/conditionaltokens/docs/devguide01/">Gnosis’s documentation</a>. “PositionIds” are derived from a collateral token and distinct “collectionIds”. “CollectionIds” are derived from a “parentCollectionId”, (always bytes32(0) in our case) a “conditionId”, and a unique “indexSet”. The “indexSet” is a 256 bit array denoting which outcome slots are in an outcome collection; it must be a nonempty proper subset of a condition’s outcome slots. In the binary case, which we are interested in, there are two “indexSets”, one for the first outcome and one for the second. The first outcome’s “indexSet” is 0b01 == 1 and the second’s is 0b10 == 2. The parent “conditionId” (shared by both “collectionIds” and therefore “positionIds”) is derived from a “questionId” (a hash of the UMA ancillary data), an “oracle” address (the UMA adapter V2) and an “outcomeSlotCount” (always 2 in the binary case). The steps for calculating the ERC1155 token ids (positionIds) is as follows:</p>

<ol>
<li>Get the <code>conditionId</code>

<ol>
<li><strong>Function:</strong>

<ol>
<li><code>getConditionId(oracle, questionId, outcomeSlotCount)</code></li>
</ol></li>
<li><strong>Inputs:</strong>

<ol>
<li><code>oracle</code>: address - UMA adapter V2</li>
<li><code>questionId</code>: bytes32 - hash of the UMA ancillary data</li>
<li><code>outcomeSlotCount</code>: uint - 2 for binary markets</li>
</ol></li>
</ol></li>
<li>Get the two <code>collectionIds</code>

<ol>
<li><strong>Function:</strong>

<ol>
<li><code>getCollectionId(parentCollectionId, conditionId, indexSet)</code></li>
</ol></li>
<li><strong>Inputs:</strong>

<ol>
<li><code>parentCollectionId</code>: bytes32 - bytes32(0)</li>
<li><code>conditionId</code>: bytes32 - the conditionId derived from (1)</li>
<li><code>indexSet</code>: uint - 1 (0b01) for the first and 2 (0b10) for the second.</li>
</ol></li>
</ol></li>
<li>Get the two <code>positionIds</code>

<ol>
<li>Function:

<ol>
<li><code>getPositionId(collateralToken, collectionId)</code></li>
</ol></li>
<li>Inputs:

<ol>
<li><code>collateralToken</code>: IERC20 - address of ERC20 token collateral (USDC)</li>
<li><code>collectionId</code>: bytes32 - the two collectionIds derived from (3)</li>
</ol></li>
</ol></li>
</ol>

<p>Leveraging the relations above, specifically “conditionIds” → “positionIds” the Gnosis CTF contract allows for “splitting” and “merging” full outcome sets. We explore these actions and provide code examples below.</p>
<h2 id='split'>Split</h2>
<p>At any time, after a condition has been prepared on the CTF contract (via <code>prepareCondition</code>), it is possible to &quot;split&quot; collateral into a full (position) set. In other words, one unit USDC can be split into 1 YES unit and 1 NO unit. If splitting from the collateral, the CTF contract will attempt to transfer <code>amount</code> collateral from the message sender to itself. If successful, <code>amount</code> stake will be minted in the split target positions. If any of the transfers, mints, or burns fail, the transaction will revert. The transaction will also revert if the given partition is trivial, invalid, or refers to more slots than the condition is prepared with. This operation happens via the <code>splitPosition()</code> function on the CTF contract with the following parameters:</p>

<ul>
<li><code>collateralToken</code>: IERC20 - The address of the positions&#39; backing collateral token.</li>
<li><code>parentCollectionId</code>: bytes32 - The ID of the outcome collections common to the position being split and the split target positions. Null in XFT case. </li>
<li><code>conditionId</code>: bytes32 - The ID of the condition to split on.</li>
<li><code>partition</code>: uint[] - An array of disjoint index sets representing a nontrivial partition of the outcome slots of the given condition. E.g. A|B and C but not A|B and B|C (is not disjoint). Each element&#39;s a number which, together with the condition, represents the outcome collection. E.g. 0b110 is A|B, 0b010 is B, etc. In the XFT case <a href="ie%200x01,%200x10">1,2</a>.</li>
<li><code>amount</code> - The amount of collateral or stake to split. Also the number of full sets to receive. </li>
</ul>
<h2 id='merge'>Merge</h2>
<p>In addition to splitting collateral for a full set, the inverse can also happen; a full set can be &quot;merged&quot; for collateral. This operation can again happen at any time after a condition has been prepared on the CTF contract. One unit of each position in a full set is burned in return for 1 collateral unit. This operation happens via the <code>mergePosition()</code> function on the CTF contract with the following parameters:</p>

<ul>
<li><code>collateralToken</code>: IERC20 - The address of the positions&#39; backing collateral token.</li>
<li><code>parentCollectionId</code>: bytes32 - The ID of the outcome collections common to the position being merged and the merge target positions. Null in XFT case. </li>
<li><code>conditionId</code>: bytes32 - The ID of the condition to merge on.</li>
<li><code>partition</code>: uint[] - An array of disjoint index sets representing a nontrivial partition of the outcome slots of the given condition. E.g. A|B and C but not A|B and B|C (is not disjoint). Each element&#39;s a number which, together with the condition, represents the outcome collection. E.g. 0b110 is A|B, 0b010 is B, etc. In the XFT case <a href="ie%200x01,%200x10">1,2</a>.</li>
<li><code>amount</code> - The number of full sets to merge. Also the amount of collateral to receive. </li>
</ul>
<h2 id='redeem'>Redeem</h2>
<p>One a condition has had it&#39;s payouts reported (ie by the UmaCTFAdapter calling <code>reportPayouts</code> on the CTF contract), users with shares in the winning outcome can redeem them for the underlying collateral. Specifically, users can call the <code>redeemPositions</code> function on the CTF contract which will burn all valuable conditional tokens in return for collateral according to the reported payout vector. This function has the following parameters:</p>

<ul>
<li><code>collateralToken</code>: IERC20 - The address of the positions&#39; backing collateral token.</li>
<li><code>parentCollectionId</code>: bytes32 - The ID of the outcome collections common to the position being redeemed. Null in XFT case. </li>
<li><code>conditionId</code>: bytes32 - The ID of the condition to redeem.</li>
<li><code>indexSets</code>: uint[] - An array of disjoint index sets representing a nontrivial partition of the outcome slots of the given condition. E.g. A|B and C but not A|B and B|C (is not disjoint). Each element&#39;s a number which, together with the condition, represents the outcome collection. E.g. 0b110 is A|B, 0b010 is B, etc. In the XFT case <a href="ie%200x01,%200x10">1,2</a>.</li>
</ul>
<h2 id='deployment'>Deployment</h2>
<p>The CTF contract is deployed (and verified) at the following addresses:</p>

<table><thead>
<tr>
<th style="text-align: center">Network</th>
<th style="text-align: center">Deployed Address</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">Polygon Mainnet</td>
<td style="text-align: center"><a href="https://polygonscan.com/address/0x4D97DCd97eC945f40cF65F87097ACe5EA0476045"><code>0x4D97DCd97eC945f40cF65F87097ACe5EA0476045</code></a></td>
</tr>
<tr>
<td style="text-align: center">Mumbai</td>
<td style="text-align: center"><a href="https://mumbai.polygonscan.com/address/0x7D8610E9567d2a6C9FBf66a5A13E9Ba8bb120d43"><code>0x7D8610E9567d2a6C9FBf66a5A13E9Ba8bb120d43</code></a></td>
</tr>
</tbody></table>
<h2 id='resources'>Resources</h2>
<ul>
<li><a href="https://github.com/gnosis/conditional-tokens-contracts">Source Code</a></li>
<li><a href="https://github.com/gnosis/conditional-tokens-contracts/tree/master/docs/audit">Audits</a></li>
<li><a href="https://docs.gnosis.io/conditionaltokens/docs/devguide01/">Gnosis CTF Technical Documentation</a></li>
<li><a href="https://gist.github.com/L-Kov/950bce141a9d1aa1ed3b1cfce6d30217">Gist For <code>positionId</code> Calculation</a></li>
</ul>
<h1 id='fpmms'>FPMMs</h1><h2 id='overview-10'>Overview</h2>
<p>Underlying all markets, and providing for an alternative trading mechanism to the central limit order book (CLOB) are fixed product market makers (FPMMs). These FPMMs are deployed upon market creation using a factory contract. As such, each market has a unique FPMM deployment/address. The addresses and associations of these deployments are indexed in the subgraph and made available via the Gamma API. The contracts themselves are also self-descriptive. As the name suggests, FPMMs implement a fixed (ie &quot;constant&quot;) product scoring rule wherein the product of the tokens in the pool (ie the liquidity) is held constant. By maintaining this invariant, the price of a trade is calculated. Importantly, the tokens in the pool are outcome shares. Anyone can provide liquidity to the contract, and in return get ERC20 tokens representing their share of the liquidity pool. When users trade against the pool they  pay a configured fee, in collateral, which is reserved proportionally for liquidity providers. When a trader buys shares from a pool, their collateral is split into the underlying conditional tokens, the token they are buying is kept and the rest are sold to the pool for more of the token they are buying. When selling, the user is actually trading the token for equal amounts of the other tokens in the pool (in the binary case just one other outcome token) and then the full sets are merged for collateral. The source implementation of the fixed product was developed by Gnosis.</p>
<h2 id='add-liquidity'>Add Liquidity</h2>
<p>Liquidity providers can provide liquidity to the pool in the form of collateral via <code>addFunding()</code>. The function has the following parameters:</p>

<ul>
<li><code>addedFunds</code>: uint - The amount of collateral to add to the pool in return for tokens representing their share of the pool and fees. </li>
<li><code>distributionHint</code>: uint[] - Array indicating the ratios of outcome tokens for initial liquidity. This can only be provided by the first liquidity provider in the pool. [1,1] in the 50/50 starting case.</li>
</ul>

<p><em>Note: this is not front-run protected so should be used with a contract that enforces some protection against front running.</em> </p>
<h2 id='remove-liquidity'>Remove Liquidity</h2>
<p>At any time, liquidity providers can remove liquidity from a pool they are providing to via <code>removeFunding()</code> with the parameter:</p>

<ul>
<li><code>sharesToBurn</code>: uint - The number of liquidity shares to burn. The underlying conditional tokens are returned to the liquidity provider along with any earned fees (in collateral).</li>
</ul>
<h2 id='buy'>Buy</h2>
<p>Traders can buy outcome tokens from the pool via the <code>buy()</code> function with the following parameters:</p>

<ul>
<li><code>investmentAmount</code>: uint - The amount of collateral to spend. </li>
<li><code>outcomeIndex</code>: uint - The index of the outcome to purchase. </li>
<li><code>minOutcomeTokensToBuy</code>: unit - The minimum amount of tokens you expect to receive.</li>
</ul>
<h2 id='sell'>Sell</h2>
<p>Traders can sell outcome tokens to the pool via the <code>sell()</code> function with the following parameters:</p>

<ul>
<li><code>returnAmount</code>: uint - The amount of collateral to get back. </li>
<li><code>outcomeIndex</code>: uint - The index of the outcome to sell. </li>
<li><code>maxOutcomeTokensToSell</code>: uint - The maximum number of outcome tokens to sell to get the <code>returnAmount</code> of collateral.</li>
</ul>
<h2 id='deployments-2'>Deployments</h2>
<p>FPMM Factory Deployments</p>

<table><thead>
<tr>
<th style="text-align: center">Network</th>
<th style="text-align: center">Address</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">Polygon</td>
<td style="text-align: center"><a href="https://polygonscan.com/address/0x8b9805a2f595b6705e74f7310829f2d299d21522"><code>0x8b9805a2f595b6705e74f7310829f2d299d21522</code></a></td>
</tr>
<tr>
<td style="text-align: center">Mumbai</td>
<td style="text-align: center"><a href="https://mumbai.polygonscan.com/address/0x5a80a64c8ae0551b09c3df377b60953872c5aa7f"><code>0x5a80a64c8ae0551b09c3df377b60953872c5aa7f</code></a></td>
</tr>
</tbody></table>
<h2 id='resources-2'>Resources</h2>
<ul>
<li><a href="https://github.com/gnosis/conditional-tokens-market-makers/blob/master/contracts/FixedProductMarketMaker.sol">Source Code</a></li>
<li><a href="https://github.com/gnosis/conditional-tokens-market-makers/blob/master/docs/G0Group-GnosisOmen2020Mar.pdf">Audit</a></li>
</ul>
<h1 id='proxy-wallets'>Proxy Wallets</h1><h2 id='overview-11'>Overview</h2>
<p>When a user first uses XFT.com to trade they are prompted to create a wallet. When they do this, a 1 of 1 multisig is deployed to Polygon which is controlled/owned by the accessing EOA (either MetaMask wallet or MagicLink wallet). This proxy wallet is where all the user&#39;s positions (ERC1155) and USDC (ERC20) are held. Using proxy wallets allows XFT to provide an improved UX where multi-step transactions can be executed atomically and transactions can be relayed by relayers on the gas station network. If you are a developer looking to programmatically access positions you accumulated via the XFT.com interface, you can either continue using the smart contract wallet by executing transactions through it from the owner account, or you can transfer these assets to a new address using the owner account.</p>
<h2 id='deployments-3'>Deployments</h2>
<p>Each user has their own proxy wallet (and thus proxy wallet address) but the factories are available at the following deployed addresses on the <strong>Polygon network</strong>. </p>

<table><thead>
<tr>
<th style="text-align: center">Address</th>
<th style="text-align: left">Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><a href="https://polygonscan.com/address/0xaacfeea03eb1561c4e67d661e40682bd20e3541b"><code>0xaacfeea03eb1561c4e67d661e40682bd20e3541b</code></a></td>
<td style="text-align: left"><strong>Gnosis safe factory</strong> - Gnosis safes are used for all MetaMask users</td>
</tr>
<tr>
<td style="text-align: center"><a href="https://polygonscan.com/address/0xaB45c5A4B0c941a2F231C04C3f49182e1A254052"><code>0xaB45c5A4B0c941a2F231C04C3f49182e1A254052</code></a></td>
<td style="text-align: left"><strong>XFT proxy factory</strong> - XFT custom proxy contracts are used for all MagicLink users</td>
</tr>
</tbody></table>
<h1 id='bug-bounty'>Bug Bounty</h1>
<p>XFT has an active bug bounty program via <a href="https://immunefi.com/bug-bounty/XFT/">Immunefi</a>. Please direct any/all reports there. </p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="typescript">typescript</a>
          </div>
      </div>
    </div>
  </body>
</html>
